(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();function Ei(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const _e={},Ps=[],Et=()=>{},ka=()=>!1,ar=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),ki=e=>e.startsWith("onUpdate:"),$e=Object.assign,Ti=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},vc=Object.prototype.hasOwnProperty,pe=(e,t)=>vc.call(e,t),X=Array.isArray,Is=e=>An(e)==="[object Map]",Fs=e=>An(e)==="[object Set]",Yi=e=>An(e)==="[object Date]",ne=e=>typeof e=="function",Ce=e=>typeof e=="string",kt=e=>typeof e=="symbol",ye=e=>e!==null&&typeof e=="object",Ta=e=>(ye(e)||ne(e))&&ne(e.then)&&ne(e.catch),Aa=Object.prototype.toString,An=e=>Aa.call(e),mc=e=>An(e).slice(8,-1),Ca=e=>An(e)==="[object Object]",Ai=e=>Ce(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Qs=Ei(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),lr=e=>{const t=Object.create(null);return(s=>t[s]||(t[s]=e(s)))},yc=/-\w/g,ot=lr(e=>e.replace(yc,t=>t.slice(1).toUpperCase())),_c=/\B([A-Z])/g,es=lr(e=>e.replace(_c,"-$1").toLowerCase()),cr=lr(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ar=lr(e=>e?`on${cr(e)}`:""),Xt=(e,t)=>!Object.is(e,t),Hn=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Ra=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},ur=e=>{const t=parseFloat(e);return isNaN(t)?e:t},wc=e=>{const t=Ce(e)?Number(e):NaN;return isNaN(t)?e:t};let Qi;const hr=()=>Qi||(Qi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function St(e){if(X(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],r=Ce(n)?kc(n):St(n);if(r)for(const i in r)t[i]=r[i]}return t}else if(Ce(e)||ye(e))return e}const bc=/;(?![^(]*\))/g,Sc=/:([^]+)/,Ec=/\/\*[^]*?\*\//g;function kc(e){const t={};return e.replace(Ec,"").split(bc).forEach(s=>{if(s){const n=s.split(Sc);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Ae(e){let t="";if(Ce(e))t=e;else if(X(e))for(let s=0;s<e.length;s++){const n=Ae(e[s]);n&&(t+=n+" ")}else if(ye(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const Tc="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ac=Ei(Tc);function Oa(e){return!!e||e===""}function Cc(e,t){if(e.length!==t.length)return!1;let s=!0;for(let n=0;s&&n<e.length;n++)s=Cn(e[n],t[n]);return s}function Cn(e,t){if(e===t)return!0;let s=Yi(e),n=Yi(t);if(s||n)return s&&n?e.getTime()===t.getTime():!1;if(s=kt(e),n=kt(t),s||n)return e===t;if(s=X(e),n=X(t),s||n)return s&&n?Cc(e,t):!1;if(s=ye(e),n=ye(t),s||n){if(!s||!n)return!1;const r=Object.keys(e).length,i=Object.keys(t).length;if(r!==i)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!Cn(e[o],t[o]))return!1}}return String(e)===String(t)}function Ci(e,t){return e.findIndex(s=>Cn(s,t))}const xa=e=>!!(e&&e.__v_isRef===!0),ie=e=>Ce(e)?e:e==null?"":X(e)||ye(e)&&(e.toString===Aa||!ne(e.toString))?xa(e)?ie(e.value):JSON.stringify(e,Pa,2):String(e),Pa=(e,t)=>xa(t)?Pa(e,t.value):Is(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,r],i)=>(s[Cr(n,i)+" =>"]=r,s),{})}:Fs(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Cr(s))}:kt(t)?Cr(t):ye(t)&&!X(t)&&!Ca(t)?String(t):t,Cr=(e,t="")=>{var s;return kt(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};let ze;class Rc{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ze,!t&&ze&&(this.index=(ze.scopes||(ze.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=ze;try{return ze=this,t()}finally{ze=s}}}on(){++this._on===1&&(this.prevScope=ze,ze=this)}off(){this._on>0&&--this._on===0&&(ze=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Oc(){return ze}let Se;const Rr=new WeakSet;class Ia{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ze&&ze.active&&ze.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Rr.has(this)&&(Rr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Na(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Xi(this),ja(this);const t=Se,s=ut;Se=this,ut=!0;try{return this.fn()}finally{Da(this),Se=t,ut=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)xi(t);this.deps=this.depsTail=void 0,Xi(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Rr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Jr(this)&&this.run()}get dirty(){return Jr(this)}}let $a=0,Xs,Zs;function Na(e,t=!1){if(e.flags|=8,t){e.next=Zs,Zs=e;return}e.next=Xs,Xs=e}function Ri(){$a++}function Oi(){if(--$a>0)return;if(Zs){let t=Zs;for(Zs=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Xs;){let t=Xs;for(Xs=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function ja(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Da(e){let t,s=e.depsTail,n=s;for(;n;){const r=n.prevDep;n.version===-1?(n===s&&(s=r),xi(n),xc(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=r}e.deps=t,e.depsTail=s}function Jr(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(La(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function La(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===un)||(e.globalVersion=un,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Jr(e))))return;e.flags|=2;const t=e.dep,s=Se,n=ut;Se=e,ut=!0;try{ja(e);const r=e.fn(e._value);(t.version===0||Xt(r,e._value))&&(e.flags|=128,e._value=r,t.version++)}catch(r){throw t.version++,r}finally{Se=s,ut=n,Da(e),e.flags&=-3}}function xi(e,t=!1){const{dep:s,prevSub:n,nextSub:r}=e;if(n&&(n.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)xi(i,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function xc(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let ut=!0;const Ua=[];function Dt(){Ua.push(ut),ut=!1}function Lt(){const e=Ua.pop();ut=e===void 0?!0:e}function Xi(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=Se;Se=void 0;try{t()}finally{Se=s}}}let un=0;class Pc{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Pi{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Se||!ut||Se===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Se)s=this.activeLink=new Pc(Se,this),Se.deps?(s.prevDep=Se.depsTail,Se.depsTail.nextDep=s,Se.depsTail=s):Se.deps=Se.depsTail=s,Ma(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=Se.depsTail,s.nextDep=void 0,Se.depsTail.nextDep=s,Se.depsTail=s,Se.deps===s&&(Se.deps=n)}return s}trigger(t){this.version++,un++,this.notify(t)}notify(t){Ri();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Oi()}}}function Ma(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)Ma(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const zr=new WeakMap,gs=Symbol(""),Yr=Symbol(""),hn=Symbol("");function Ue(e,t,s){if(ut&&Se){let n=zr.get(e);n||zr.set(e,n=new Map);let r=n.get(s);r||(n.set(s,r=new Pi),r.map=n,r.key=s),r.track()}}function $t(e,t,s,n,r,i){const o=zr.get(e);if(!o){un++;return}const a=l=>{l&&l.trigger()};if(Ri(),t==="clear")o.forEach(a);else{const l=X(e),c=l&&Ai(s);if(l&&s==="length"){const u=Number(n);o.forEach((h,d)=>{(d==="length"||d===hn||!kt(d)&&d>=u)&&a(h)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),c&&a(o.get(hn)),t){case"add":l?c&&a(o.get("length")):(a(o.get(gs)),Is(e)&&a(o.get(Yr)));break;case"delete":l||(a(o.get(gs)),Is(e)&&a(o.get(Yr)));break;case"set":Is(e)&&a(o.get(gs));break}}Oi()}function ys(e){const t=ue(e);return t===e?t:(Ue(t,"iterate",hn),it(e)?t:t.map(dt))}function dr(e){return Ue(e=ue(e),"iterate",hn),e}function Kt(e,t){return Ut(e)?Ls(vs(e)?dt(t):t):dt(t)}const Ic={__proto__:null,[Symbol.iterator](){return Or(this,Symbol.iterator,e=>Kt(this,e))},concat(...e){return ys(this).concat(...e.map(t=>X(t)?ys(t):t))},entries(){return Or(this,"entries",e=>(e[1]=Kt(this,e[1]),e))},every(e,t){return Ct(this,"every",e,t,void 0,arguments)},filter(e,t){return Ct(this,"filter",e,t,s=>s.map(n=>Kt(this,n)),arguments)},find(e,t){return Ct(this,"find",e,t,s=>Kt(this,s),arguments)},findIndex(e,t){return Ct(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Ct(this,"findLast",e,t,s=>Kt(this,s),arguments)},findLastIndex(e,t){return Ct(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Ct(this,"forEach",e,t,void 0,arguments)},includes(...e){return xr(this,"includes",e)},indexOf(...e){return xr(this,"indexOf",e)},join(e){return ys(this).join(e)},lastIndexOf(...e){return xr(this,"lastIndexOf",e)},map(e,t){return Ct(this,"map",e,t,void 0,arguments)},pop(){return Ks(this,"pop")},push(...e){return Ks(this,"push",e)},reduce(e,...t){return Zi(this,"reduce",e,t)},reduceRight(e,...t){return Zi(this,"reduceRight",e,t)},shift(){return Ks(this,"shift")},some(e,t){return Ct(this,"some",e,t,void 0,arguments)},splice(...e){return Ks(this,"splice",e)},toReversed(){return ys(this).toReversed()},toSorted(e){return ys(this).toSorted(e)},toSpliced(...e){return ys(this).toSpliced(...e)},unshift(...e){return Ks(this,"unshift",e)},values(){return Or(this,"values",e=>Kt(this,e))}};function Or(e,t,s){const n=dr(e),r=n[t]();return n!==e&&!it(e)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.done||(i.value=s(i.value)),i}),r}const $c=Array.prototype;function Ct(e,t,s,n,r,i){const o=dr(e),a=o!==e&&!it(e),l=o[t];if(l!==$c[t]){const h=l.apply(e,i);return a?dt(h):h}let c=s;o!==e&&(a?c=function(h,d){return s.call(this,Kt(e,h),d,e)}:s.length>2&&(c=function(h,d){return s.call(this,h,d,e)}));const u=l.call(o,c,n);return a&&r?r(u):u}function Zi(e,t,s,n){const r=dr(e);let i=s;return r!==e&&(it(e)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,e)}):i=function(o,a,l){return s.call(this,o,Kt(e,a),l,e)}),r[t](i,...n)}function xr(e,t,s){const n=ue(e);Ue(n,"iterate",hn);const r=n[t](...s);return(r===-1||r===!1)&&Ni(s[0])?(s[0]=ue(s[0]),n[t](...s)):r}function Ks(e,t,s=[]){Dt(),Ri();const n=ue(e)[t].apply(e,s);return Oi(),Lt(),n}const Nc=Ei("__proto__,__v_isRef,__isVue"),Ba=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(kt));function jc(e){kt(e)||(e=String(e));const t=ue(this);return Ue(t,"has",e),t.hasOwnProperty(e)}class Fa{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const r=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!r;if(s==="__v_isReadonly")return r;if(s==="__v_isShallow")return i;if(s==="__v_raw")return n===(r?i?Kc:Ka:i?Ha:Va).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const o=X(t);if(!r){let l;if(o&&(l=Ic[s]))return l;if(s==="hasOwnProperty")return jc}const a=Reflect.get(t,s,Be(t)?t:n);if((kt(s)?Ba.has(s):Nc(s))||(r||Ue(t,"get",s),i))return a;if(Be(a)){const l=o&&Ai(s)?a:a.value;return r&&ye(l)?Xr(l):l}return ye(a)?r?Xr(a):fr(a):a}}class qa extends Fa{constructor(t=!1){super(!1,t)}set(t,s,n,r){let i=t[s];const o=X(t)&&Ai(s);if(!this._isShallow){const c=Ut(i);if(!it(n)&&!Ut(n)&&(i=ue(i),n=ue(n)),!o&&Be(i)&&!Be(n))return c||(i.value=n),!0}const a=o?Number(s)<t.length:pe(t,s),l=Reflect.set(t,s,n,Be(t)?t:r);return t===ue(r)&&(a?Xt(n,i)&&$t(t,"set",s,n):$t(t,"add",s,n)),l}deleteProperty(t,s){const n=pe(t,s);t[s];const r=Reflect.deleteProperty(t,s);return r&&n&&$t(t,"delete",s,void 0),r}has(t,s){const n=Reflect.has(t,s);return(!kt(s)||!Ba.has(s))&&Ue(t,"has",s),n}ownKeys(t){return Ue(t,"iterate",X(t)?"length":gs),Reflect.ownKeys(t)}}class Dc extends Fa{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Lc=new qa,Uc=new Dc,Mc=new qa(!0);const Qr=e=>e,In=e=>Reflect.getPrototypeOf(e);function Bc(e,t,s){return function(...n){const r=this.__v_raw,i=ue(r),o=Is(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=r[e](...n),u=s?Qr:t?Ls:dt;return!t&&Ue(i,"iterate",l?Yr:gs),$e(Object.create(c),{next(){const{value:h,done:d}=c.next();return d?{value:h,done:d}:{value:a?[u(h[0]),u(h[1])]:u(h),done:d}}})}}function $n(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Fc(e,t){const s={get(r){const i=this.__v_raw,o=ue(i),a=ue(r);e||(Xt(r,a)&&Ue(o,"get",r),Ue(o,"get",a));const{has:l}=In(o),c=t?Qr:e?Ls:dt;if(l.call(o,r))return c(i.get(r));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!e&&Ue(ue(r),"iterate",gs),r.size},has(r){const i=this.__v_raw,o=ue(i),a=ue(r);return e||(Xt(r,a)&&Ue(o,"has",r),Ue(o,"has",a)),r===a?i.has(r):i.has(r)||i.has(a)},forEach(r,i){const o=this,a=o.__v_raw,l=ue(a),c=t?Qr:e?Ls:dt;return!e&&Ue(l,"iterate",gs),a.forEach((u,h)=>r.call(i,c(u),c(h),o))}};return $e(s,e?{add:$n("add"),set:$n("set"),delete:$n("delete"),clear:$n("clear")}:{add(r){!t&&!it(r)&&!Ut(r)&&(r=ue(r));const i=ue(this);return In(i).has.call(i,r)||(i.add(r),$t(i,"add",r,r)),this},set(r,i){!t&&!it(i)&&!Ut(i)&&(i=ue(i));const o=ue(this),{has:a,get:l}=In(o);let c=a.call(o,r);c||(r=ue(r),c=a.call(o,r));const u=l.call(o,r);return o.set(r,i),c?Xt(i,u)&&$t(o,"set",r,i):$t(o,"add",r,i),this},delete(r){const i=ue(this),{has:o,get:a}=In(i);let l=o.call(i,r);l||(r=ue(r),l=o.call(i,r)),a&&a.call(i,r);const c=i.delete(r);return l&&$t(i,"delete",r,void 0),c},clear(){const r=ue(this),i=r.size!==0,o=r.clear();return i&&$t(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{s[r]=Bc(r,e,t)}),s}function Ii(e,t){const s=Fc(e,t);return(n,r,i)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?n:Reflect.get(pe(s,r)&&r in n?s:n,r,i)}const qc={get:Ii(!1,!1)},Vc={get:Ii(!1,!0)},Hc={get:Ii(!0,!1)};const Va=new WeakMap,Ha=new WeakMap,Ka=new WeakMap,Kc=new WeakMap;function Wc(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Gc(e){return e.__v_skip||!Object.isExtensible(e)?0:Wc(mc(e))}function fr(e){return Ut(e)?e:$i(e,!1,Lc,qc,Va)}function Wa(e){return $i(e,!1,Mc,Vc,Ha)}function Xr(e){return $i(e,!0,Uc,Hc,Ka)}function $i(e,t,s,n,r){if(!ye(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=Gc(e);if(i===0)return e;const o=r.get(e);if(o)return o;const a=new Proxy(e,i===2?n:s);return r.set(e,a),a}function vs(e){return Ut(e)?vs(e.__v_raw):!!(e&&e.__v_isReactive)}function Ut(e){return!!(e&&e.__v_isReadonly)}function it(e){return!!(e&&e.__v_isShallow)}function Ni(e){return e?!!e.__v_raw:!1}function ue(e){const t=e&&e.__v_raw;return t?ue(t):e}function Jc(e){return!pe(e,"__v_skip")&&Object.isExtensible(e)&&Ra(e,"__v_skip",!0),e}const dt=e=>ye(e)?fr(e):e,Ls=e=>ye(e)?Xr(e):e;function Be(e){return e?e.__v_isRef===!0:!1}function re(e){return Ga(e,!1)}function zc(e){return Ga(e,!0)}function Ga(e,t){return Be(e)?e:new Yc(e,t)}class Yc{constructor(t,s){this.dep=new Pi,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:ue(t),this._value=s?t:dt(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,n=this.__v_isShallow||it(t)||Ut(t);t=n?t:ue(t),Xt(t,s)&&(this._rawValue=t,this._value=n?t:dt(t),this.dep.trigger())}}function $s(e){return Be(e)?e.value:e}const Qc={get:(e,t,s)=>t==="__v_raw"?e:$s(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const r=e[t];return Be(r)&&!Be(s)?(r.value=s,!0):Reflect.set(e,t,s,n)}};function Ja(e){return vs(e)?e:new Proxy(e,Qc)}class Xc{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Pi(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=un-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Se!==this)return Na(this,!0),!0}get value(){const t=this.dep.track();return La(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Zc(e,t,s=!1){let n,r;return ne(e)?n=e:(n=e.get,r=e.set),new Xc(n,r,s)}const Nn={},Yn=new WeakMap;let as;function eu(e,t=!1,s=as){if(s){let n=Yn.get(s);n||Yn.set(s,n=[]),n.push(e)}}function tu(e,t,s=_e){const{immediate:n,deep:r,once:i,scheduler:o,augmentJob:a,call:l}=s,c=C=>r?C:it(C)||r===!1||r===0?Nt(C,1):Nt(C);let u,h,d,f,v=!1,_=!1;if(Be(e)?(h=()=>e.value,v=it(e)):vs(e)?(h=()=>c(e),v=!0):X(e)?(_=!0,v=e.some(C=>vs(C)||it(C)),h=()=>e.map(C=>{if(Be(C))return C.value;if(vs(C))return c(C);if(ne(C))return l?l(C,2):C()})):ne(e)?t?h=l?()=>l(e,2):e:h=()=>{if(d){Dt();try{d()}finally{Lt()}}const C=as;as=u;try{return l?l(e,3,[f]):e(f)}finally{as=C}}:h=Et,t&&r){const C=h,H=r===!0?1/0:r;h=()=>Nt(C(),H)}const A=Oc(),k=()=>{u.stop(),A&&A.active&&Ti(A.effects,u)};if(i&&t){const C=t;t=(...H)=>{C(...H),k()}}let b=_?new Array(e.length).fill(Nn):Nn;const w=C=>{if(!(!(u.flags&1)||!u.dirty&&!C))if(t){const H=u.run();if(r||v||(_?H.some((q,z)=>Xt(q,b[z])):Xt(H,b))){d&&d();const q=as;as=u;try{const z=[H,b===Nn?void 0:_&&b[0]===Nn?[]:b,f];b=H,l?l(t,3,z):t(...z)}finally{as=q}}}else u.run()};return a&&a(w),u=new Ia(h),u.scheduler=o?()=>o(w,!1):w,f=C=>eu(C,!1,u),d=u.onStop=()=>{const C=Yn.get(u);if(C){if(l)l(C,4);else for(const H of C)H();Yn.delete(u)}},t?n?w(!0):b=u.run():o?o(w.bind(null,!0),!0):u.run(),k.pause=u.pause.bind(u),k.resume=u.resume.bind(u),k.stop=k,k}function Nt(e,t=1/0,s){if(t<=0||!ye(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,Be(e))Nt(e.value,t,s);else if(X(e))for(let n=0;n<e.length;n++)Nt(e[n],t,s);else if(Fs(e)||Is(e))e.forEach(n=>{Nt(n,t,s)});else if(Ca(e)){for(const n in e)Nt(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&Nt(e[n],t,s)}return e}function Rn(e,t,s,n){try{return n?e(...n):e()}catch(r){pr(r,t,s)}}function ft(e,t,s,n){if(ne(e)){const r=Rn(e,t,s,n);return r&&Ta(r)&&r.catch(i=>{pr(i,t,s)}),r}if(X(e)){const r=[];for(let i=0;i<e.length;i++)r.push(ft(e[i],t,s,n));return r}}function pr(e,t,s,n=!0){const r=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||_e;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const u=a.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](e,l,c)===!1)return}a=a.parent}if(i){Dt(),Rn(i,null,10,[e,l,c]),Lt();return}}su(e,s,r,n,o)}function su(e,t,s,n=!0,r=!1){if(r)throw e;console.error(e)}const He=[];let wt=-1;const Ns=[];let Wt=null,Ts=0;const za=Promise.resolve();let Qn=null;function ji(e){const t=Qn||za;return e?t.then(this?e.bind(this):e):t}function nu(e){let t=wt+1,s=He.length;for(;t<s;){const n=t+s>>>1,r=He[n],i=dn(r);i<e||i===e&&r.flags&2?t=n+1:s=n}return t}function Di(e){if(!(e.flags&1)){const t=dn(e),s=He[He.length-1];!s||!(e.flags&2)&&t>=dn(s)?He.push(e):He.splice(nu(t),0,e),e.flags|=1,Ya()}}function Ya(){Qn||(Qn=za.then(Xa))}function ru(e){X(e)?Ns.push(...e):Wt&&e.id===-1?Wt.splice(Ts+1,0,e):e.flags&1||(Ns.push(e),e.flags|=1),Ya()}function eo(e,t,s=wt+1){for(;s<He.length;s++){const n=He[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;He.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Qa(e){if(Ns.length){const t=[...new Set(Ns)].sort((s,n)=>dn(s)-dn(n));if(Ns.length=0,Wt){Wt.push(...t);return}for(Wt=t,Ts=0;Ts<Wt.length;Ts++){const s=Wt[Ts];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Wt=null,Ts=0}}const dn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Xa(e){try{for(wt=0;wt<He.length;wt++){const t=He[wt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Rn(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;wt<He.length;wt++){const t=He[wt];t&&(t.flags&=-2)}wt=-1,He.length=0,Qa(),Qn=null,(He.length||Ns.length)&&Xa()}}let tt=null,Za=null;function Xn(e){const t=tt;return tt=e,Za=e&&e.type.__scopeId||null,t}function en(e,t=tt,s){if(!t||e._n)return e;const n=(...r)=>{n._d&&tr(-1);const i=Xn(t);let o;try{o=e(...r)}finally{Xn(i),n._d&&tr(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function Ie(e,t){if(tt===null)return e;const s=_r(tt),n=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[i,o,a,l=_e]=t[r];i&&(ne(i)&&(i={mounted:i,updated:i}),i.deep&&Nt(o),n.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function ts(e,t,s,n){const r=e.dirs,i=t&&t.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[n];l&&(Dt(),ft(l,s,8,[e.el,a,e,t]),Lt())}}function Kn(e,t){if(Me){let s=Me.provides;const n=Me.parent&&Me.parent.provides;n===s&&(s=Me.provides=Object.create(n)),s[e]=t}}function ht(e,t,s=!1){const n=Il();if(n||js){let r=js?js._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return s&&ne(t)?t.call(n&&n.proxy):t}}const iu=Symbol.for("v-scx"),ou=()=>ht(iu);function ms(e,t,s){return el(e,t,s)}function el(e,t,s=_e){const{immediate:n,deep:r,flush:i,once:o}=s,a=$e({},s),l=t&&n||!t&&i!=="post";let c;if(gn){if(i==="sync"){const f=ou();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=Et,f.resume=Et,f.pause=Et,f}}const u=Me;a.call=(f,v,_)=>ft(f,u,v,_);let h=!1;i==="post"?a.scheduler=f=>{Ze(f,u&&u.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(f,v)=>{v?f():Di(f)}),a.augmentJob=f=>{t&&(f.flags|=4),h&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const d=tu(e,t,a);return gn&&(c?c.push(d):l&&d()),d}function au(e,t,s){const n=this.proxy,r=Ce(e)?e.includes(".")?tl(n,e):()=>n[e]:e.bind(n,n);let i;ne(t)?i=t:(i=t.handler,s=t);const o=On(this),a=el(r,i.bind(n),s);return o(),a}function tl(e,t){const s=t.split(".");return()=>{let n=e;for(let r=0;r<s.length&&n;r++)n=n[s[r]];return n}}const lu=Symbol("_vte"),sl=e=>e.__isTeleport,It=Symbol("_leaveCb"),jn=Symbol("_enterCb");function cu(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Mt(()=>{e.isMounted=!0}),hl(()=>{e.isUnmounting=!0}),e}const rt=[Function,Array],nl={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:rt,onEnter:rt,onAfterEnter:rt,onEnterCancelled:rt,onBeforeLeave:rt,onLeave:rt,onAfterLeave:rt,onLeaveCancelled:rt,onBeforeAppear:rt,onAppear:rt,onAfterAppear:rt,onAppearCancelled:rt},rl=e=>{const t=e.subTree;return t.component?rl(t.component):t},uu={name:"BaseTransition",props:nl,setup(e,{slots:t}){const s=Il(),n=cu();return()=>{const r=t.default&&al(t.default(),!0);if(!r||!r.length)return;const i=il(r),o=ue(e),{mode:a}=o;if(n.isLeaving)return Pr(i);const l=to(i);if(!l)return Pr(i);let c=Zr(l,o,n,s,h=>c=h);l.type!==Ke&&fn(l,c);let u=s.subTree&&to(s.subTree);if(u&&u.type!==Ke&&!us(u,l)&&rl(s).type!==Ke){let h=Zr(u,o,n,s);if(fn(u,h),a==="out-in"&&l.type!==Ke)return n.isLeaving=!0,h.afterLeave=()=>{n.isLeaving=!1,s.job.flags&8||s.update(),delete h.afterLeave,u=void 0},Pr(i);a==="in-out"&&l.type!==Ke?h.delayLeave=(d,f,v)=>{const _=ol(n,u);_[String(u.key)]=u,d[It]=()=>{f(),d[It]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{v(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return i}}};function il(e){let t=e[0];if(e.length>1){for(const s of e)if(s.type!==Ke){t=s;break}}return t}const hu=uu;function ol(e,t){const{leavingVNodes:s}=e;let n=s.get(t.type);return n||(n=Object.create(null),s.set(t.type,n)),n}function Zr(e,t,s,n,r){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:h,onBeforeLeave:d,onLeave:f,onAfterLeave:v,onLeaveCancelled:_,onBeforeAppear:A,onAppear:k,onAfterAppear:b,onAppearCancelled:w}=t,C=String(e.key),H=ol(s,e),q=(Y,ae)=>{Y&&ft(Y,n,9,ae)},z=(Y,ae)=>{const he=ae[1];q(Y,ae),X(Y)?Y.every(U=>U.length<=1)&&he():Y.length<=1&&he()},ve={mode:o,persisted:a,beforeEnter(Y){let ae=l;if(!s.isMounted)if(i)ae=A||l;else return;Y[It]&&Y[It](!0);const he=H[C];he&&us(e,he)&&he.el[It]&&he.el[It](),q(ae,[Y])},enter(Y){let ae=c,he=u,U=h;if(!s.isMounted)if(i)ae=k||c,he=b||u,U=w||h;else return;let $=!1;const K=Y[jn]=N=>{$||($=!0,N?q(U,[Y]):q(he,[Y]),ve.delayedLeave&&ve.delayedLeave(),Y[jn]=void 0)};ae?z(ae,[Y,K]):K()},leave(Y,ae){const he=String(e.key);if(Y[jn]&&Y[jn](!0),s.isUnmounting)return ae();q(d,[Y]);let U=!1;const $=Y[It]=K=>{U||(U=!0,ae(),K?q(_,[Y]):q(v,[Y]),Y[It]=void 0,H[he]===e&&delete H[he])};H[he]=e,f?z(f,[Y,$]):$()},clone(Y){const ae=Zr(Y,t,s,n,r);return r&&r(ae),ae}};return ve}function Pr(e){if(gr(e))return e=Zt(e),e.children=null,e}function to(e){if(!gr(e))return sl(e.type)&&e.children?il(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:s}=e;if(s){if(t&16)return s[0];if(t&32&&ne(s.default))return s.default()}}function fn(e,t){e.shapeFlag&6&&e.component?(e.transition=t,fn(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function al(e,t=!1,s){let n=[],r=0;for(let i=0;i<e.length;i++){let o=e[i];const a=s==null?o.key:String(s)+String(o.key!=null?o.key:i);o.type===ge?(o.patchFlag&128&&r++,n=n.concat(al(o.children,t,a))):(t||o.type!==Ke)&&n.push(a!=null?Zt(o,{key:a}):o)}if(r>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}function ll(e,t){return ne(e)?$e({name:e.name},t,{setup:e}):e}function cl(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Zn=new WeakMap;function tn(e,t,s,n,r=!1){if(X(e)){e.forEach((v,_)=>tn(v,t&&(X(t)?t[_]:t),s,n,r));return}if(sn(n)&&!r){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&tn(e,t,s,n.component.subTree);return}const i=n.shapeFlag&4?_r(n.component):n.el,o=r?null:i,{i:a,r:l}=e,c=t&&t.r,u=a.refs===_e?a.refs={}:a.refs,h=a.setupState,d=ue(h),f=h===_e?ka:v=>pe(d,v);if(c!=null&&c!==l){if(so(t),Ce(c))u[c]=null,f(c)&&(h[c]=null);else if(Be(c)){c.value=null;const v=t;v.k&&(u[v.k]=null)}}if(ne(l))Rn(l,a,12,[o,u]);else{const v=Ce(l),_=Be(l);if(v||_){const A=()=>{if(e.f){const k=v?f(l)?h[l]:u[l]:l.value;if(r)X(k)&&Ti(k,i);else if(X(k))k.includes(i)||k.push(i);else if(v)u[l]=[i],f(l)&&(h[l]=u[l]);else{const b=[i];l.value=b,e.k&&(u[e.k]=b)}}else v?(u[l]=o,f(l)&&(h[l]=o)):_&&(l.value=o,e.k&&(u[e.k]=o))};if(o){const k=()=>{A(),Zn.delete(e)};k.id=-1,Zn.set(e,k),Ze(k,s)}else so(e),A()}}}function so(e){const t=Zn.get(e);t&&(t.flags|=8,Zn.delete(e))}hr().requestIdleCallback;hr().cancelIdleCallback;const sn=e=>!!e.type.__asyncLoader,gr=e=>e.type.__isKeepAlive;function du(e,t){ul(e,"a",t)}function fu(e,t){ul(e,"da",t)}function ul(e,t,s=Me){const n=e.__wdc||(e.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(vr(t,n,s),s){let r=s.parent;for(;r&&r.parent;)gr(r.parent.vnode)&&pu(n,t,s,r),r=r.parent}}function pu(e,t,s,n){const r=vr(t,e,n,!0);Li(()=>{Ti(n[t],r)},s)}function vr(e,t,s=Me,n=!1){if(s){const r=s[e]||(s[e]=[]),i=t.__weh||(t.__weh=(...o)=>{Dt();const a=On(s),l=ft(t,s,e,o);return a(),Lt(),l});return n?r.unshift(i):r.push(i),i}}const Bt=e=>(t,s=Me)=>{(!gn||e==="sp")&&vr(e,(...n)=>t(...n),s)},gu=Bt("bm"),Mt=Bt("m"),vu=Bt("bu"),mu=Bt("u"),hl=Bt("bum"),Li=Bt("um"),yu=Bt("sp"),_u=Bt("rtg"),wu=Bt("rtc");function bu(e,t=Me){vr("ec",e,t)}const Su="components";function dl(e,t){return ku(Su,e,!0,t)||e}const Eu=Symbol.for("v-ndc");function ku(e,t,s=!0,n=!1){const r=tt||Me;if(r){const i=r.type;{const a=lh(i,!1);if(a&&(a===t||a===ot(t)||a===cr(ot(t))))return i}const o=no(r[e]||i[e],t)||no(r.appContext[e],t);return!o&&n?i:o}}function no(e,t){return e&&(e[t]||e[ot(t)]||e[cr(ot(t))])}function Le(e,t,s,n){let r;const i=s,o=X(e);if(o||Ce(e)){const a=o&&vs(e);let l=!1,c=!1;a&&(l=!it(e),c=Ut(e),e=dr(e)),r=new Array(e.length);for(let u=0,h=e.length;u<h;u++)r[u]=t(l?c?Ls(dt(e[u])):dt(e[u]):e[u],u,void 0,i)}else if(typeof e=="number"){r=new Array(e);for(let a=0;a<e;a++)r[a]=t(a+1,a,void 0,i)}else if(ye(e))if(e[Symbol.iterator])r=Array.from(e,(a,l)=>t(a,l,void 0,i));else{const a=Object.keys(e);r=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];r[l]=t(e[u],u,l,i)}}else r=[];return r}const ei=e=>e?$l(e)?_r(e):ei(e.parent):null,nn=$e(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ei(e.parent),$root:e=>ei(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>pl(e),$forceUpdate:e=>e.f||(e.f=()=>{Di(e.update)}),$nextTick:e=>e.n||(e.n=ji.bind(e.proxy)),$watch:e=>au.bind(e)}),Ir=(e,t)=>e!==_e&&!e.__isScriptSetup&&pe(e,t),Tu={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:r,props:i,accessCache:o,type:a,appContext:l}=e;if(t[0]!=="$"){const d=o[t];if(d!==void 0)switch(d){case 1:return n[t];case 2:return r[t];case 4:return s[t];case 3:return i[t]}else{if(Ir(n,t))return o[t]=1,n[t];if(r!==_e&&pe(r,t))return o[t]=2,r[t];if(pe(i,t))return o[t]=3,i[t];if(s!==_e&&pe(s,t))return o[t]=4,s[t];ti&&(o[t]=0)}}const c=nn[t];let u,h;if(c)return t==="$attrs"&&Ue(e.attrs,"get",""),c(e);if((u=a.__cssModules)&&(u=u[t]))return u;if(s!==_e&&pe(s,t))return o[t]=4,s[t];if(h=l.config.globalProperties,pe(h,t))return h[t]},set({_:e},t,s){const{data:n,setupState:r,ctx:i}=e;return Ir(r,t)?(r[t]=s,!0):n!==_e&&pe(n,t)?(n[t]=s,!0):pe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:r,props:i,type:o}},a){let l;return!!(s[a]||e!==_e&&a[0]!=="$"&&pe(e,a)||Ir(t,a)||pe(i,a)||pe(n,a)||pe(nn,a)||pe(r.config.globalProperties,a)||(l=o.__cssModules)&&l[a])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:pe(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function ro(e){return X(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let ti=!0;function Au(e){const t=pl(e),s=e.proxy,n=e.ctx;ti=!1,t.beforeCreate&&io(t.beforeCreate,e,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:d,beforeUpdate:f,updated:v,activated:_,deactivated:A,beforeDestroy:k,beforeUnmount:b,destroyed:w,unmounted:C,render:H,renderTracked:q,renderTriggered:z,errorCaptured:ve,serverPrefetch:Y,expose:ae,inheritAttrs:he,components:U,directives:$,filters:K}=t;if(c&&Cu(c,n,null),o)for(const V in o){const W=o[V];ne(W)&&(n[V]=W.bind(s))}if(r){const V=r.call(s,s);ye(V)&&(e.data=fr(V))}if(ti=!0,i)for(const V in i){const W=i[V],Fe=ne(W)?W.bind(s,s):ne(W.get)?W.get.bind(s,s):Et,gt=!ne(W)&&ne(W.set)?W.set.bind(s):Et,nt=Ee({get:Fe,set:gt});Object.defineProperty(n,V,{enumerable:!0,configurable:!0,get:()=>nt.value,set:Ne=>nt.value=Ne})}if(a)for(const V in a)fl(a[V],n,s,V);if(l){const V=ne(l)?l.call(s):l;Reflect.ownKeys(V).forEach(W=>{Kn(W,V[W])})}u&&io(u,e,"c");function de(V,W){X(W)?W.forEach(Fe=>V(Fe.bind(s))):W&&V(W.bind(s))}if(de(gu,h),de(Mt,d),de(vu,f),de(mu,v),de(du,_),de(fu,A),de(bu,ve),de(wu,q),de(_u,z),de(hl,b),de(Li,C),de(yu,Y),X(ae))if(ae.length){const V=e.exposed||(e.exposed={});ae.forEach(W=>{Object.defineProperty(V,W,{get:()=>s[W],set:Fe=>s[W]=Fe,enumerable:!0})})}else e.exposed||(e.exposed={});H&&e.render===Et&&(e.render=H),he!=null&&(e.inheritAttrs=he),U&&(e.components=U),$&&(e.directives=$),Y&&cl(e)}function Cu(e,t,s=Et){X(e)&&(e=si(e));for(const n in e){const r=e[n];let i;ye(r)?"default"in r?i=ht(r.from||n,r.default,!0):i=ht(r.from||n):i=ht(r),Be(i)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[n]=i}}function io(e,t,s){ft(X(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function fl(e,t,s,n){let r=n.includes(".")?tl(s,n):()=>s[n];if(Ce(e)){const i=t[e];ne(i)&&ms(r,i)}else if(ne(e))ms(r,e.bind(s));else if(ye(e))if(X(e))e.forEach(i=>fl(i,t,s,n));else{const i=ne(e.handler)?e.handler.bind(s):t[e.handler];ne(i)&&ms(r,i,e)}}function pl(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!r.length&&!s&&!n?l=t:(l={},r.length&&r.forEach(c=>er(l,c,o,!0)),er(l,t,o)),ye(t)&&i.set(t,l),l}function er(e,t,s,n=!1){const{mixins:r,extends:i}=t;i&&er(e,i,s,!0),r&&r.forEach(o=>er(e,o,s,!0));for(const o in t)if(!(n&&o==="expose")){const a=Ru[o]||s&&s[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const Ru={data:oo,props:ao,emits:ao,methods:zs,computed:zs,beforeCreate:qe,created:qe,beforeMount:qe,mounted:qe,beforeUpdate:qe,updated:qe,beforeDestroy:qe,beforeUnmount:qe,destroyed:qe,unmounted:qe,activated:qe,deactivated:qe,errorCaptured:qe,serverPrefetch:qe,components:zs,directives:zs,watch:xu,provide:oo,inject:Ou};function oo(e,t){return t?e?function(){return $e(ne(e)?e.call(this,this):e,ne(t)?t.call(this,this):t)}:t:e}function Ou(e,t){return zs(si(e),si(t))}function si(e){if(X(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function qe(e,t){return e?[...new Set([].concat(e,t))]:t}function zs(e,t){return e?$e(Object.create(null),e,t):t}function ao(e,t){return e?X(e)&&X(t)?[...new Set([...e,...t])]:$e(Object.create(null),ro(e),ro(t??{})):t}function xu(e,t){if(!e)return t;if(!t)return e;const s=$e(Object.create(null),e);for(const n in t)s[n]=qe(e[n],t[n]);return s}function gl(){return{app:null,config:{isNativeTag:ka,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Pu=0;function Iu(e,t){return function(n,r=null){ne(n)||(n=$e({},n)),r!=null&&!ye(r)&&(r=null);const i=gl(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:Pu++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:uh,get config(){return i.config},set config(u){},use(u,...h){return o.has(u)||(u&&ne(u.install)?(o.add(u),u.install(c,...h)):ne(u)&&(o.add(u),u(c,...h))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,h){return h?(i.components[u]=h,c):i.components[u]},directive(u,h){return h?(i.directives[u]=h,c):i.directives[u]},mount(u,h,d){if(!l){const f=c._ceVNode||Oe(n,r);return f.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),e(f,u,d),l=!0,c._container=u,u.__vue_app__=c,_r(f.component)}},onUnmount(u){a.push(u)},unmount(){l&&(ft(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,h){return i.provides[u]=h,c},runWithContext(u){const h=js;js=c;try{return u()}finally{js=h}}};return c}}let js=null;const $u=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${ot(t)}Modifiers`]||e[`${es(t)}Modifiers`];function Nu(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||_e;let r=s;const i=t.startsWith("update:"),o=i&&$u(n,t.slice(7));o&&(o.trim&&(r=s.map(u=>Ce(u)?u.trim():u)),o.number&&(r=s.map(ur)));let a,l=n[a=Ar(t)]||n[a=Ar(ot(t))];!l&&i&&(l=n[a=Ar(es(t))]),l&&ft(l,e,6,r);const c=n[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,ft(c,e,6,r)}}const ju=new WeakMap;function vl(e,t,s=!1){const n=s?ju:t.emitsCache,r=n.get(e);if(r!==void 0)return r;const i=e.emits;let o={},a=!1;if(!ne(e)){const l=c=>{const u=vl(c,t,!0);u&&(a=!0,$e(o,u))};!s&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(ye(e)&&n.set(e,null),null):(X(i)?i.forEach(l=>o[l]=null):$e(o,i),ye(e)&&n.set(e,o),o)}function mr(e,t){return!e||!ar(t)?!1:(t=t.slice(2).replace(/Once$/,""),pe(e,t[0].toLowerCase()+t.slice(1))||pe(e,es(t))||pe(e,t))}function lo(e){const{type:t,vnode:s,proxy:n,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:h,data:d,setupState:f,ctx:v,inheritAttrs:_}=e,A=Xn(e);let k,b;try{if(s.shapeFlag&4){const C=r||n,H=C;k=bt(c.call(H,C,u,h,f,d,v)),b=a}else{const C=t;k=bt(C.length>1?C(h,{attrs:a,slots:o,emit:l}):C(h,null)),b=t.props?a:Du(a)}}catch(C){rn.length=0,pr(C,e,1),k=Oe(Ke)}let w=k;if(b&&_!==!1){const C=Object.keys(b),{shapeFlag:H}=w;C.length&&H&7&&(i&&C.some(ki)&&(b=Lu(b,i)),w=Zt(w,b,!1,!0))}return s.dirs&&(w=Zt(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(s.dirs):s.dirs),s.transition&&fn(w,s.transition),k=w,Xn(A),k}const Du=e=>{let t;for(const s in e)(s==="class"||s==="style"||ar(s))&&((t||(t={}))[s]=e[s]);return t},Lu=(e,t)=>{const s={};for(const n in e)(!ki(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function Uu(e,t,s){const{props:n,children:r,component:i}=e,{props:o,children:a,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?co(n,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const d=u[h];if(o[d]!==n[d]&&!mr(c,d))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?co(n,o,c):!0:!!o;return!1}function co(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let r=0;r<n.length;r++){const i=n[r];if(t[i]!==e[i]&&!mr(s,i))return!0}return!1}function Mu({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const ml={},yl=()=>Object.create(ml),_l=e=>Object.getPrototypeOf(e)===ml;function Bu(e,t,s,n=!1){const r={},i=yl();e.propsDefaults=Object.create(null),wl(e,t,r,i);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);s?e.props=n?r:Wa(r):e.type.props?e.props=r:e.props=i,e.attrs=i}function Fu(e,t,s,n){const{props:r,attrs:i,vnode:{patchFlag:o}}=e,a=ue(r),[l]=e.propsOptions;let c=!1;if((n||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let d=u[h];if(mr(e.emitsOptions,d))continue;const f=t[d];if(l)if(pe(i,d))f!==i[d]&&(i[d]=f,c=!0);else{const v=ot(d);r[v]=ni(l,a,v,f,e,!1)}else f!==i[d]&&(i[d]=f,c=!0)}}}else{wl(e,t,r,i)&&(c=!0);let u;for(const h in a)(!t||!pe(t,h)&&((u=es(h))===h||!pe(t,u)))&&(l?s&&(s[h]!==void 0||s[u]!==void 0)&&(r[h]=ni(l,a,h,void 0,e,!0)):delete r[h]);if(i!==a)for(const h in i)(!t||!pe(t,h))&&(delete i[h],c=!0)}c&&$t(e.attrs,"set","")}function wl(e,t,s,n){const[r,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Qs(l))continue;const c=t[l];let u;r&&pe(r,u=ot(l))?!i||!i.includes(u)?s[u]=c:(a||(a={}))[u]=c:mr(e.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,o=!0)}if(i){const l=ue(s),c=a||_e;for(let u=0;u<i.length;u++){const h=i[u];s[h]=ni(r,l,h,c[h],e,!pe(c,h))}}return o}function ni(e,t,s,n,r,i){const o=e[s];if(o!=null){const a=pe(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&ne(l)){const{propsDefaults:c}=r;if(s in c)n=c[s];else{const u=On(r);n=c[s]=l.call(null,t),u()}}else n=l;r.ce&&r.ce._setProp(s,n)}o[0]&&(i&&!a?n=!1:o[1]&&(n===""||n===es(s))&&(n=!0))}return n}const qu=new WeakMap;function bl(e,t,s=!1){const n=s?qu:t.propsCache,r=n.get(e);if(r)return r;const i=e.props,o={},a=[];let l=!1;if(!ne(e)){const u=h=>{l=!0;const[d,f]=bl(h,t,!0);$e(o,d),f&&a.push(...f)};!s&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!l)return ye(e)&&n.set(e,Ps),Ps;if(X(i))for(let u=0;u<i.length;u++){const h=ot(i[u]);uo(h)&&(o[h]=_e)}else if(i)for(const u in i){const h=ot(u);if(uo(h)){const d=i[u],f=o[h]=X(d)||ne(d)?{type:d}:$e({},d),v=f.type;let _=!1,A=!0;if(X(v))for(let k=0;k<v.length;++k){const b=v[k],w=ne(b)&&b.name;if(w==="Boolean"){_=!0;break}else w==="String"&&(A=!1)}else _=ne(v)&&v.name==="Boolean";f[0]=_,f[1]=A,(_||pe(f,"default"))&&a.push(h)}}const c=[o,a];return ye(e)&&n.set(e,c),c}function uo(e){return e[0]!=="$"&&!Qs(e)}const Ui=e=>e==="_"||e==="_ctx"||e==="$stable",Mi=e=>X(e)?e.map(bt):[bt(e)],Vu=(e,t,s)=>{if(t._n)return t;const n=en((...r)=>Mi(t(...r)),s);return n._c=!1,n},Sl=(e,t,s)=>{const n=e._ctx;for(const r in e){if(Ui(r))continue;const i=e[r];if(ne(i))t[r]=Vu(r,i,n);else if(i!=null){const o=Mi(i);t[r]=()=>o}}},El=(e,t)=>{const s=Mi(t);e.slots.default=()=>s},kl=(e,t,s)=>{for(const n in t)(s||!Ui(n))&&(e[n]=t[n])},Hu=(e,t,s)=>{const n=e.slots=yl();if(e.vnode.shapeFlag&32){const r=t._;r?(kl(n,t,s),s&&Ra(n,"_",r,!0)):Sl(t,n)}else t&&El(e,t)},Ku=(e,t,s)=>{const{vnode:n,slots:r}=e;let i=!0,o=_e;if(n.shapeFlag&32){const a=t._;a?s&&a===1?i=!1:kl(r,t,s):(i=!t.$stable,Sl(t,r)),o=t}else t&&(El(e,t),o={default:1});if(i)for(const a in r)!Ui(a)&&o[a]==null&&delete r[a]},Ze=Yu;function Wu(e){return Gu(e)}function Gu(e,t){const s=hr();s.__VUE__=!0;const{insert:n,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:d,setScopeId:f=Et,insertStaticContent:v}=e,_=(p,g,m,R=null,P=null,x=null,L=void 0,D=null,j=!!g.dynamicChildren)=>{if(p===g)return;p&&!us(p,g)&&(R=O(p),Ne(p,P,x,!0),p=null),g.patchFlag===-2&&(j=!1,g.dynamicChildren=null);const{type:I,ref:Z,shapeFlag:B}=g;switch(I){case yr:A(p,g,m,R);break;case Ke:k(p,g,m,R);break;case Wn:p==null&&b(g,m,R,L);break;case ge:U(p,g,m,R,P,x,L,D,j);break;default:B&1?H(p,g,m,R,P,x,L,D,j):B&6?$(p,g,m,R,P,x,L,D,j):(B&64||B&128)&&I.process(p,g,m,R,P,x,L,D,j,E)}Z!=null&&P?tn(Z,p&&p.ref,x,g||p,!g):Z==null&&p&&p.ref!=null&&tn(p.ref,null,x,p,!0)},A=(p,g,m,R)=>{if(p==null)n(g.el=a(g.children),m,R);else{const P=g.el=p.el;g.children!==p.children&&c(P,g.children)}},k=(p,g,m,R)=>{p==null?n(g.el=l(g.children||""),m,R):g.el=p.el},b=(p,g,m,R)=>{[p.el,p.anchor]=v(p.children,g,m,R,p.el,p.anchor)},w=({el:p,anchor:g},m,R)=>{let P;for(;p&&p!==g;)P=d(p),n(p,m,R),p=P;n(g,m,R)},C=({el:p,anchor:g})=>{let m;for(;p&&p!==g;)m=d(p),r(p),p=m;r(g)},H=(p,g,m,R,P,x,L,D,j)=>{if(g.type==="svg"?L="svg":g.type==="math"&&(L="mathml"),p==null)q(g,m,R,P,x,L,D,j);else{const I=p.el&&p.el._isVueCE?p.el:null;try{I&&I._beginPatch(),Y(p,g,P,x,L,D,j)}finally{I&&I._endPatch()}}},q=(p,g,m,R,P,x,L,D)=>{let j,I;const{props:Z,shapeFlag:B,transition:Q,dirs:se}=p;if(j=p.el=o(p.type,x,Z&&Z.is,Z),B&8?u(j,p.children):B&16&&ve(p.children,j,null,R,P,$r(p,x),L,D),se&&ts(p,null,R,"created"),z(j,p,p.scopeId,L,R),Z){for(const we in Z)we!=="value"&&!Qs(we)&&i(j,we,null,Z[we],x,R);"value"in Z&&i(j,"value",null,Z.value,x),(I=Z.onVnodeBeforeMount)&&_t(I,R,p)}se&&ts(p,null,R,"beforeMount");const le=Ju(P,Q);le&&Q.beforeEnter(j),n(j,g,m),((I=Z&&Z.onVnodeMounted)||le||se)&&Ze(()=>{I&&_t(I,R,p),le&&Q.enter(j),se&&ts(p,null,R,"mounted")},P)},z=(p,g,m,R,P)=>{if(m&&f(p,m),R)for(let x=0;x<R.length;x++)f(p,R[x]);if(P){let x=P.subTree;if(g===x||Rl(x.type)&&(x.ssContent===g||x.ssFallback===g)){const L=P.vnode;z(p,L,L.scopeId,L.slotScopeIds,P.parent)}}},ve=(p,g,m,R,P,x,L,D,j=0)=>{for(let I=j;I<p.length;I++){const Z=p[I]=D?Gt(p[I]):bt(p[I]);_(null,Z,g,m,R,P,x,L,D)}},Y=(p,g,m,R,P,x,L)=>{const D=g.el=p.el;let{patchFlag:j,dynamicChildren:I,dirs:Z}=g;j|=p.patchFlag&16;const B=p.props||_e,Q=g.props||_e;let se;if(m&&ss(m,!1),(se=Q.onVnodeBeforeUpdate)&&_t(se,m,g,p),Z&&ts(g,p,m,"beforeUpdate"),m&&ss(m,!0),(B.innerHTML&&Q.innerHTML==null||B.textContent&&Q.textContent==null)&&u(D,""),I?ae(p.dynamicChildren,I,D,m,R,$r(g,P),x):L||W(p,g,D,null,m,R,$r(g,P),x,!1),j>0){if(j&16)he(D,B,Q,m,P);else if(j&2&&B.class!==Q.class&&i(D,"class",null,Q.class,P),j&4&&i(D,"style",B.style,Q.style,P),j&8){const le=g.dynamicProps;for(let we=0;we<le.length;we++){const me=le[we],Ge=B[me],Je=Q[me];(Je!==Ge||me==="value")&&i(D,me,Ge,Je,P,m)}}j&1&&p.children!==g.children&&u(D,g.children)}else!L&&I==null&&he(D,B,Q,m,P);((se=Q.onVnodeUpdated)||Z)&&Ze(()=>{se&&_t(se,m,g,p),Z&&ts(g,p,m,"updated")},R)},ae=(p,g,m,R,P,x,L)=>{for(let D=0;D<g.length;D++){const j=p[D],I=g[D],Z=j.el&&(j.type===ge||!us(j,I)||j.shapeFlag&198)?h(j.el):m;_(j,I,Z,null,R,P,x,L,!0)}},he=(p,g,m,R,P)=>{if(g!==m){if(g!==_e)for(const x in g)!Qs(x)&&!(x in m)&&i(p,x,g[x],null,P,R);for(const x in m){if(Qs(x))continue;const L=m[x],D=g[x];L!==D&&x!=="value"&&i(p,x,D,L,P,R)}"value"in m&&i(p,"value",g.value,m.value,P)}},U=(p,g,m,R,P,x,L,D,j)=>{const I=g.el=p?p.el:a(""),Z=g.anchor=p?p.anchor:a("");let{patchFlag:B,dynamicChildren:Q,slotScopeIds:se}=g;se&&(D=D?D.concat(se):se),p==null?(n(I,m,R),n(Z,m,R),ve(g.children||[],m,Z,P,x,L,D,j)):B>0&&B&64&&Q&&p.dynamicChildren&&p.dynamicChildren.length===Q.length?(ae(p.dynamicChildren,Q,m,P,x,L,D),(g.key!=null||P&&g===P.subTree)&&Tl(p,g,!0)):W(p,g,m,Z,P,x,L,D,j)},$=(p,g,m,R,P,x,L,D,j)=>{g.slotScopeIds=D,p==null?g.shapeFlag&512?P.ctx.activate(g,m,R,L,j):K(g,m,R,P,x,L,j):N(p,g,j)},K=(p,g,m,R,P,x,L)=>{const D=p.component=nh(p,R,P);if(gr(p)&&(D.ctx.renderer=E),rh(D,!1,L),D.asyncDep){if(P&&P.registerDep(D,de,L),!p.el){const j=D.subTree=Oe(Ke);k(null,j,g,m),p.placeholder=j.el}}else de(D,p,g,m,P,x,L)},N=(p,g,m)=>{const R=g.component=p.component;if(Uu(p,g,m))if(R.asyncDep&&!R.asyncResolved){V(R,g,m);return}else R.next=g,R.update();else g.el=p.el,R.vnode=g},de=(p,g,m,R,P,x,L)=>{const D=()=>{if(p.isMounted){let{next:B,bu:Q,u:se,parent:le,vnode:we}=p;{const mt=Al(p);if(mt){B&&(B.el=we.el,V(p,B,L)),mt.asyncDep.then(()=>{p.isUnmounted||D()});return}}let me=B,Ge;ss(p,!1),B?(B.el=we.el,V(p,B,L)):B=we,Q&&Hn(Q),(Ge=B.props&&B.props.onVnodeBeforeUpdate)&&_t(Ge,le,B,we),ss(p,!0);const Je=lo(p),vt=p.subTree;p.subTree=Je,_(vt,Je,h(vt.el),O(vt),p,P,x),B.el=Je.el,me===null&&Mu(p,Je.el),se&&Ze(se,P),(Ge=B.props&&B.props.onVnodeUpdated)&&Ze(()=>_t(Ge,le,B,we),P)}else{let B;const{el:Q,props:se}=g,{bm:le,m:we,parent:me,root:Ge,type:Je}=p,vt=sn(g);ss(p,!1),le&&Hn(le),!vt&&(B=se&&se.onVnodeBeforeMount)&&_t(B,me,g),ss(p,!0);{Ge.ce&&Ge.ce._def.shadowRoot!==!1&&Ge.ce._injectChildStyle(Je);const mt=p.subTree=lo(p);_(null,mt,m,R,p,P,x),g.el=mt.el}if(we&&Ze(we,P),!vt&&(B=se&&se.onVnodeMounted)){const mt=g;Ze(()=>_t(B,me,mt),P)}(g.shapeFlag&256||me&&sn(me.vnode)&&me.vnode.shapeFlag&256)&&p.a&&Ze(p.a,P),p.isMounted=!0,g=m=R=null}};p.scope.on();const j=p.effect=new Ia(D);p.scope.off();const I=p.update=j.run.bind(j),Z=p.job=j.runIfDirty.bind(j);Z.i=p,Z.id=p.uid,j.scheduler=()=>Di(Z),ss(p,!0),I()},V=(p,g,m)=>{g.component=p;const R=p.vnode.props;p.vnode=g,p.next=null,Fu(p,g.props,R,m),Ku(p,g.children,m),Dt(),eo(p),Lt()},W=(p,g,m,R,P,x,L,D,j=!1)=>{const I=p&&p.children,Z=p?p.shapeFlag:0,B=g.children,{patchFlag:Q,shapeFlag:se}=g;if(Q>0){if(Q&128){gt(I,B,m,R,P,x,L,D,j);return}else if(Q&256){Fe(I,B,m,R,P,x,L,D,j);return}}se&8?(Z&16&&We(I,P,x),B!==I&&u(m,B)):Z&16?se&16?gt(I,B,m,R,P,x,L,D,j):We(I,P,x,!0):(Z&8&&u(m,""),se&16&&ve(B,m,R,P,x,L,D,j))},Fe=(p,g,m,R,P,x,L,D,j)=>{p=p||Ps,g=g||Ps;const I=p.length,Z=g.length,B=Math.min(I,Z);let Q;for(Q=0;Q<B;Q++){const se=g[Q]=j?Gt(g[Q]):bt(g[Q]);_(p[Q],se,m,null,P,x,L,D,j)}I>Z?We(p,P,x,!0,!1,B):ve(g,m,R,P,x,L,D,j,B)},gt=(p,g,m,R,P,x,L,D,j)=>{let I=0;const Z=g.length;let B=p.length-1,Q=Z-1;for(;I<=B&&I<=Q;){const se=p[I],le=g[I]=j?Gt(g[I]):bt(g[I]);if(us(se,le))_(se,le,m,null,P,x,L,D,j);else break;I++}for(;I<=B&&I<=Q;){const se=p[B],le=g[Q]=j?Gt(g[Q]):bt(g[Q]);if(us(se,le))_(se,le,m,null,P,x,L,D,j);else break;B--,Q--}if(I>B){if(I<=Q){const se=Q+1,le=se<Z?g[se].el:R;for(;I<=Q;)_(null,g[I]=j?Gt(g[I]):bt(g[I]),m,le,P,x,L,D,j),I++}}else if(I>Q)for(;I<=B;)Ne(p[I],P,x,!0),I++;else{const se=I,le=I,we=new Map;for(I=le;I<=Q;I++){const Qe=g[I]=j?Gt(g[I]):bt(g[I]);Qe.key!=null&&we.set(Qe.key,I)}let me,Ge=0;const Je=Q-le+1;let vt=!1,mt=0;const Hs=new Array(Je);for(I=0;I<Je;I++)Hs[I]=0;for(I=se;I<=B;I++){const Qe=p[I];if(Ge>=Je){Ne(Qe,P,x,!0);continue}let yt;if(Qe.key!=null)yt=we.get(Qe.key);else for(me=le;me<=Q;me++)if(Hs[me-le]===0&&us(Qe,g[me])){yt=me;break}yt===void 0?Ne(Qe,P,x,!0):(Hs[yt-le]=I+1,yt>=mt?mt=yt:vt=!0,_(Qe,g[yt],m,null,P,x,L,D,j),Ge++)}const Gi=vt?zu(Hs):Ps;for(me=Gi.length-1,I=Je-1;I>=0;I--){const Qe=le+I,yt=g[Qe],Ji=g[Qe+1],zi=Qe+1<Z?Ji.el||Cl(Ji):R;Hs[I]===0?_(null,yt,m,zi,P,x,L,D,j):vt&&(me<0||I!==Gi[me]?nt(yt,m,zi,2):me--)}}},nt=(p,g,m,R,P=null)=>{const{el:x,type:L,transition:D,children:j,shapeFlag:I}=p;if(I&6){nt(p.component.subTree,g,m,R);return}if(I&128){p.suspense.move(g,m,R);return}if(I&64){L.move(p,g,m,E);return}if(L===ge){n(x,g,m);for(let B=0;B<j.length;B++)nt(j[B],g,m,R);n(p.anchor,g,m);return}if(L===Wn){w(p,g,m);return}if(R!==2&&I&1&&D)if(R===0)D.beforeEnter(x),n(x,g,m),Ze(()=>D.enter(x),P);else{const{leave:B,delayLeave:Q,afterLeave:se}=D,le=()=>{p.ctx.isUnmounted?r(x):n(x,g,m)},we=()=>{x._isLeaving&&x[It](!0),B(x,()=>{le(),se&&se()})};Q?Q(x,le,we):we()}else n(x,g,m)},Ne=(p,g,m,R=!1,P=!1)=>{const{type:x,props:L,ref:D,children:j,dynamicChildren:I,shapeFlag:Z,patchFlag:B,dirs:Q,cacheIndex:se}=p;if(B===-2&&(P=!1),D!=null&&(Dt(),tn(D,null,m,p,!0),Lt()),se!=null&&(g.renderCache[se]=void 0),Z&256){g.ctx.deactivate(p);return}const le=Z&1&&Q,we=!sn(p);let me;if(we&&(me=L&&L.onVnodeBeforeUnmount)&&_t(me,g,p),Z&6)At(p.component,m,R);else{if(Z&128){p.suspense.unmount(m,R);return}le&&ts(p,null,g,"beforeUnmount"),Z&64?p.type.remove(p,g,m,E,R):I&&!I.hasOnce&&(x!==ge||B>0&&B&64)?We(I,g,m,!1,!0):(x===ge&&B&384||!P&&Z&16)&&We(j,g,m),R&&Tt(p)}(we&&(me=L&&L.onVnodeUnmounted)||le)&&Ze(()=>{me&&_t(me,g,p),le&&ts(p,null,g,"unmounted")},m)},Tt=p=>{const{type:g,el:m,anchor:R,transition:P}=p;if(g===ge){qt(m,R);return}if(g===Wn){C(p);return}const x=()=>{r(m),P&&!P.persisted&&P.afterLeave&&P.afterLeave()};if(p.shapeFlag&1&&P&&!P.persisted){const{leave:L,delayLeave:D}=P,j=()=>L(m,x);D?D(p.el,x,j):j()}else x()},qt=(p,g)=>{let m;for(;p!==g;)m=d(p),r(p),p=m;r(g)},At=(p,g,m)=>{const{bum:R,scope:P,job:x,subTree:L,um:D,m:j,a:I}=p;ho(j),ho(I),R&&Hn(R),P.stop(),x&&(x.flags|=8,Ne(L,p,g,m)),D&&Ze(D,g),Ze(()=>{p.isUnmounted=!0},g)},We=(p,g,m,R=!1,P=!1,x=0)=>{for(let L=x;L<p.length;L++)Ne(p[L],g,m,R,P)},O=p=>{if(p.shapeFlag&6)return O(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const g=d(p.anchor||p.el),m=g&&g[lu];return m?d(m):g};let S=!1;const T=(p,g,m)=>{let R;p==null?g._vnode&&(Ne(g._vnode,null,null,!0),R=g._vnode.component):_(g._vnode||null,p,g,null,null,null,m),g._vnode=p,S||(S=!0,eo(R),Qa(),S=!1)},E={p:_,um:Ne,m:nt,r:Tt,mt:K,mc:ve,pc:W,pbc:ae,n:O,o:e};return{render:T,hydrate:void 0,createApp:Iu(T)}}function $r({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function ss({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Ju(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Tl(e,t,s=!1){const n=e.children,r=t.children;if(X(n)&&X(r))for(let i=0;i<n.length;i++){const o=n[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=Gt(r[i]),a.el=o.el),!s&&a.patchFlag!==-2&&Tl(o,a)),a.type===yr&&(a.patchFlag!==-1?a.el=o.el:a.__elIndex=i+(e.type===ge?1:0)),a.type===Ke&&!a.el&&(a.el=o.el)}}function zu(e){const t=e.slice(),s=[0];let n,r,i,o,a;const l=e.length;for(n=0;n<l;n++){const c=e[n];if(c!==0){if(r=s[s.length-1],e[r]<c){t[n]=r,s.push(n);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,e[s[a]]<c?i=a+1:o=a;c<e[s[i]]&&(i>0&&(t[n]=s[i-1]),s[i]=n)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=t[o];return s}function Al(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Al(t)}function ho(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function Cl(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?Cl(t.subTree):null}const Rl=e=>e.__isSuspense;function Yu(e,t){t&&t.pendingBranch?X(e)?t.effects.push(...e):t.effects.push(e):ru(e)}const ge=Symbol.for("v-fgt"),yr=Symbol.for("v-txt"),Ke=Symbol.for("v-cmt"),Wn=Symbol.for("v-stc"),rn=[];let st=null;function M(e=!1){rn.push(st=e?null:[])}function Qu(){rn.pop(),st=rn[rn.length-1]||null}let pn=1;function tr(e,t=!1){pn+=e,e<0&&st&&t&&(st.hasOnce=!0)}function Ol(e){return e.dynamicChildren=pn>0?st||Ps:null,Qu(),pn>0&&st&&st.push(e),e}function F(e,t,s,n,r,i){return Ol(y(e,t,s,n,r,i,!0))}function xl(e,t,s,n,r){return Ol(Oe(e,t,s,n,r,!0))}function sr(e){return e?e.__v_isVNode===!0:!1}function us(e,t){return e.type===t.type&&e.key===t.key}const Pl=({key:e})=>e??null,Gn=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Ce(e)||Be(e)||ne(e)?{i:tt,r:e,k:t,f:!!s}:e:null);function y(e,t=null,s=null,n=0,r=null,i=e===ge?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Pl(t),ref:t&&Gn(t),scopeId:Za,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:tt};return a?(Bi(l,s),i&128&&e.normalize(l)):s&&(l.shapeFlag|=Ce(s)?8:16),pn>0&&!o&&st&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&st.push(l),l}const Oe=Xu;function Xu(e,t=null,s=null,n=0,r=null,i=!1){if((!e||e===Eu)&&(e=Ke),sr(e)){const a=Zt(e,t,!0);return s&&Bi(a,s),pn>0&&!i&&st&&(a.shapeFlag&6?st[st.indexOf(e)]=a:st.push(a)),a.patchFlag=-2,a}if(ch(e)&&(e=e.__vccOpts),t){t=Zu(t);let{class:a,style:l}=t;a&&!Ce(a)&&(t.class=Ae(a)),ye(l)&&(Ni(l)&&!X(l)&&(l=$e({},l)),t.style=St(l))}const o=Ce(e)?1:Rl(e)?128:sl(e)?64:ye(e)?4:ne(e)?2:0;return y(e,t,s,n,r,o,i,!0)}function Zu(e){return e?Ni(e)||_l(e)?$e({},e):e:null}function Zt(e,t,s=!1,n=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:l}=e,c=t?eh(r||{},t):r,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Pl(c),ref:t&&t.ref?s&&i?X(i)?i.concat(Gn(t)):[i,Gn(t)]:Gn(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ge?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Zt(e.ssContent),ssFallback:e.ssFallback&&Zt(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&fn(u,l.clone(u)),u}function on(e=" ",t=0){return Oe(yr,null,e,t)}function Jn(e,t){const s=Oe(Wn,null,e);return s.staticCount=t,s}function ce(e="",t=!1){return t?(M(),xl(Ke,null,e)):Oe(Ke,null,e)}function bt(e){return e==null||typeof e=="boolean"?Oe(Ke):X(e)?Oe(ge,null,e.slice()):sr(e)?Gt(e):Oe(yr,null,String(e))}function Gt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Zt(e)}function Bi(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(X(t))s=16;else if(typeof t=="object")if(n&65){const r=t.default;r&&(r._c&&(r._d=!1),Bi(e,r()),r._c&&(r._d=!0));return}else{s=32;const r=t._;!r&&!_l(t)?t._ctx=tt:r===3&&tt&&(tt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ne(t)?(t={default:t,_ctx:tt},s=32):(t=String(t),n&64?(s=16,t=[on(t)]):s=8);e.children=t,e.shapeFlag|=s}function eh(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const r in n)if(r==="class")t.class!==n.class&&(t.class=Ae([t.class,n.class]));else if(r==="style")t.style=St([t.style,n.style]);else if(ar(r)){const i=t[r],o=n[r];o&&i!==o&&!(X(i)&&i.includes(o))&&(t[r]=i?[].concat(i,o):o)}else r!==""&&(t[r]=n[r])}return t}function _t(e,t,s,n=null){ft(e,t,7,[s,n])}const th=gl();let sh=0;function nh(e,t,s){const n=e.type,r=(t?t.appContext:e.appContext)||th,i={uid:sh++,vnode:e,type:n,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Rc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:bl(n,r),emitsOptions:vl(n,r),emit:null,emitted:null,propsDefaults:_e,inheritAttrs:n.inheritAttrs,ctx:_e,data:_e,props:_e,attrs:_e,slots:_e,refs:_e,setupState:_e,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Nu.bind(null,i),e.ce&&e.ce(i),i}let Me=null;const Il=()=>Me||tt;let nr,ri;{const e=hr(),t=(s,n)=>{let r;return(r=e[s])||(r=e[s]=[]),r.push(n),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};nr=t("__VUE_INSTANCE_SETTERS__",s=>Me=s),ri=t("__VUE_SSR_SETTERS__",s=>gn=s)}const On=e=>{const t=Me;return nr(e),e.scope.on(),()=>{e.scope.off(),nr(t)}},fo=()=>{Me&&Me.scope.off(),nr(null)};function $l(e){return e.vnode.shapeFlag&4}let gn=!1;function rh(e,t=!1,s=!1){t&&ri(t);const{props:n,children:r}=e.vnode,i=$l(e);Bu(e,n,i,t),Hu(e,r,s||t);const o=i?ih(e,t):void 0;return t&&ri(!1),o}function ih(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Tu);const{setup:n}=s;if(n){Dt();const r=e.setupContext=n.length>1?ah(e):null,i=On(e),o=Rn(n,e,0,[e.props,r]),a=Ta(o);if(Lt(),i(),(a||e.sp)&&!sn(e)&&cl(e),a){if(o.then(fo,fo),t)return o.then(l=>{po(e,l)}).catch(l=>{pr(l,e,0)});e.asyncDep=o}else po(e,o)}else Nl(e)}function po(e,t,s){ne(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ye(t)&&(e.setupState=Ja(t)),Nl(e)}function Nl(e,t,s){const n=e.type;e.render||(e.render=n.render||Et);{const r=On(e);Dt();try{Au(e)}finally{Lt(),r()}}}const oh={get(e,t){return Ue(e,"get",""),e[t]}};function ah(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,oh),slots:e.slots,emit:e.emit,expose:t}}function _r(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Ja(Jc(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in nn)return nn[s](e)},has(t,s){return s in t||s in nn}})):e.proxy}function lh(e,t=!0){return ne(e)?e.displayName||e.name:e.name||t&&e.__name}function ch(e){return ne(e)&&"__vccOpts"in e}const Ee=(e,t)=>Zc(e,t,gn);function Fi(e,t,s){try{tr(-1);const n=arguments.length;return n===2?ye(t)&&!X(t)?sr(t)?Oe(e,null,[t]):Oe(e,t):Oe(e,null,t):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&sr(s)&&(s=[s]),Oe(e,t,s))}finally{tr(1)}}const uh="3.5.27";let ii;const go=typeof window<"u"&&window.trustedTypes;if(go)try{ii=go.createPolicy("vue",{createHTML:e=>e})}catch{}const jl=ii?e=>ii.createHTML(e):e=>e,hh="http://www.w3.org/2000/svg",dh="http://www.w3.org/1998/Math/MathML",xt=typeof document<"u"?document:null,vo=xt&&xt.createElement("template"),fh={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const r=t==="svg"?xt.createElementNS(hh,e):t==="mathml"?xt.createElementNS(dh,e):s?xt.createElement(e,{is:s}):xt.createElement(e);return e==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:e=>xt.createTextNode(e),createComment:e=>xt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>xt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,r,i){const o=s?s.previousSibling:t.lastChild;if(r&&(r===i||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),s),!(r===i||!(r=r.nextSibling)););else{vo.innerHTML=jl(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const a=vo.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,s)}return[o?o.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Vt="transition",Ws="animation",vn=Symbol("_vtc"),Dl={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},ph=$e({},nl,Dl),gh=e=>(e.displayName="Transition",e.props=ph,e),vh=gh((e,{slots:t})=>Fi(hu,mh(e),t)),ns=(e,t=[])=>{X(e)?e.forEach(s=>s(...t)):e&&e(...t)},mo=e=>e?X(e)?e.some(t=>t.length>1):e.length>1:!1;function mh(e){const t={};for(const U in e)U in Dl||(t[U]=e[U]);if(e.css===!1)return t;const{name:s="v",type:n,duration:r,enterFromClass:i=`${s}-enter-from`,enterActiveClass:o=`${s}-enter-active`,enterToClass:a=`${s}-enter-to`,appearFromClass:l=i,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:h=`${s}-leave-from`,leaveActiveClass:d=`${s}-leave-active`,leaveToClass:f=`${s}-leave-to`}=e,v=yh(r),_=v&&v[0],A=v&&v[1],{onBeforeEnter:k,onEnter:b,onEnterCancelled:w,onLeave:C,onLeaveCancelled:H,onBeforeAppear:q=k,onAppear:z=b,onAppearCancelled:ve=w}=t,Y=(U,$,K,N)=>{U._enterCancelled=N,rs(U,$?u:a),rs(U,$?c:o),K&&K()},ae=(U,$)=>{U._isLeaving=!1,rs(U,h),rs(U,f),rs(U,d),$&&$()},he=U=>($,K)=>{const N=U?z:b,de=()=>Y($,U,K);ns(N,[$,de]),yo(()=>{rs($,U?l:i),Rt($,U?u:a),mo(N)||_o($,n,_,de)})};return $e(t,{onBeforeEnter(U){ns(k,[U]),Rt(U,i),Rt(U,o)},onBeforeAppear(U){ns(q,[U]),Rt(U,l),Rt(U,c)},onEnter:he(!1),onAppear:he(!0),onLeave(U,$){U._isLeaving=!0;const K=()=>ae(U,$);Rt(U,h),U._enterCancelled?(Rt(U,d),So(U)):(So(U),Rt(U,d)),yo(()=>{U._isLeaving&&(rs(U,h),Rt(U,f),mo(C)||_o(U,n,A,K))}),ns(C,[U,K])},onEnterCancelled(U){Y(U,!1,void 0,!0),ns(w,[U])},onAppearCancelled(U){Y(U,!0,void 0,!0),ns(ve,[U])},onLeaveCancelled(U){ae(U),ns(H,[U])}})}function yh(e){if(e==null)return null;if(ye(e))return[Nr(e.enter),Nr(e.leave)];{const t=Nr(e);return[t,t]}}function Nr(e){return wc(e)}function Rt(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e[vn]||(e[vn]=new Set)).add(t)}function rs(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const s=e[vn];s&&(s.delete(t),s.size||(e[vn]=void 0))}function yo(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let _h=0;function _o(e,t,s,n){const r=e._endId=++_h,i=()=>{r===e._endId&&n()};if(s!=null)return setTimeout(i,s);const{type:o,timeout:a,propCount:l}=wh(e,t);if(!o)return n();const c=o+"end";let u=0;const h=()=>{e.removeEventListener(c,d),i()},d=f=>{f.target===e&&++u>=l&&h()};setTimeout(()=>{u<l&&h()},a+1),e.addEventListener(c,d)}function wh(e,t){const s=window.getComputedStyle(e),n=v=>(s[v]||"").split(", "),r=n(`${Vt}Delay`),i=n(`${Vt}Duration`),o=wo(r,i),a=n(`${Ws}Delay`),l=n(`${Ws}Duration`),c=wo(a,l);let u=null,h=0,d=0;t===Vt?o>0&&(u=Vt,h=o,d=i.length):t===Ws?c>0&&(u=Ws,h=c,d=l.length):(h=Math.max(o,c),u=h>0?o>c?Vt:Ws:null,d=u?u===Vt?i.length:l.length:0);const f=u===Vt&&/\b(?:transform|all)(?:,|$)/.test(n(`${Vt}Property`).toString());return{type:u,timeout:h,propCount:d,hasTransform:f}}function wo(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,n)=>bo(s)+bo(e[n])))}function bo(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function So(e){return(e?e.ownerDocument:document).body.offsetHeight}function bh(e,t,s){const n=e[vn];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Eo=Symbol("_vod"),Sh=Symbol("_vsh"),Eh=Symbol(""),kh=/(?:^|;)\s*display\s*:/;function Th(e,t,s){const n=e.style,r=Ce(s);let i=!1;if(s&&!r){if(t)if(Ce(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&zn(n,a,"")}else for(const o in t)s[o]==null&&zn(n,o,"");for(const o in s)o==="display"&&(i=!0),zn(n,o,s[o])}else if(r){if(t!==s){const o=n[Eh];o&&(s+=";"+o),n.cssText=s,i=kh.test(s)}}else t&&e.removeAttribute("style");Eo in e&&(e[Eo]=i?n.display:"",e[Sh]&&(n.display="none"))}const ko=/\s*!important$/;function zn(e,t,s){if(X(s))s.forEach(n=>zn(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=Ah(e,t);ko.test(s)?e.setProperty(es(n),s.replace(ko,""),"important"):e[n]=s}}const To=["Webkit","Moz","ms"],jr={};function Ah(e,t){const s=jr[t];if(s)return s;let n=ot(t);if(n!=="filter"&&n in e)return jr[t]=n;n=cr(n);for(let r=0;r<To.length;r++){const i=To[r]+n;if(i in e)return jr[t]=i}return t}const Ao="http://www.w3.org/1999/xlink";function Co(e,t,s,n,r,i=Ac(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Ao,t.slice(6,t.length)):e.setAttributeNS(Ao,t,s):s==null||i&&!Oa(s)?e.removeAttribute(t):e.setAttribute(t,i?"":kt(s)?String(s):s)}function Ro(e,t,s,n,r){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?jl(s):s);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?e.getAttribute("value")||"":e.value,l=s==null?e.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in e))&&(e.value=l),s==null&&e.removeAttribute(t),e._value=s;return}let o=!1;if(s===""||s==null){const a=typeof e[t];a==="boolean"?s=Oa(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{e[t]=s}catch{}o&&e.removeAttribute(r||t)}function Yt(e,t,s,n){e.addEventListener(t,s,n)}function Ch(e,t,s,n){e.removeEventListener(t,s,n)}const Oo=Symbol("_vei");function Rh(e,t,s,n,r=null){const i=e[Oo]||(e[Oo]={}),o=i[t];if(n&&o)o.value=n;else{const[a,l]=Oh(t);if(n){const c=i[t]=Ih(n,r);Yt(e,a,c,l)}else o&&(Ch(e,a,o,l),i[t]=void 0)}}const xo=/(?:Once|Passive|Capture)$/;function Oh(e){let t;if(xo.test(e)){t={};let n;for(;n=e.match(xo);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):es(e.slice(2)),t]}let Dr=0;const xh=Promise.resolve(),Ph=()=>Dr||(xh.then(()=>Dr=0),Dr=Date.now());function Ih(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;ft($h(n,s.value),t,5,[n])};return s.value=e,s.attached=Ph(),s}function $h(e,t){if(X(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>r=>!r._stopped&&n&&n(r))}else return t}const Po=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Nh=(e,t,s,n,r,i)=>{const o=r==="svg";t==="class"?bh(e,n,o):t==="style"?Th(e,s,n):ar(t)?ki(t)||Rh(e,t,s,n,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):jh(e,t,n,o))?(Ro(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Co(e,t,n,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ce(n))?Ro(e,ot(t),n,i,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Co(e,t,n,o))};function jh(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&Po(t)&&ne(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Po(t)&&Ce(s)?!1:t in e}const Us=e=>{const t=e.props["onUpdate:modelValue"]||!1;return X(t)?s=>Hn(t,s):t};function Dh(e){e.target.composing=!0}function Io(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const jt=Symbol("_assign");function $o(e,t,s){return t&&(e=e.trim()),s&&(e=ur(e)),e}const Ye={created(e,{modifiers:{lazy:t,trim:s,number:n}},r){e[jt]=Us(r);const i=n||r.props&&r.props.type==="number";Yt(e,t?"change":"input",o=>{o.target.composing||e[jt]($o(e.value,s,i))}),(s||i)&&Yt(e,"change",()=>{e.value=$o(e.value,s,i)}),t||(Yt(e,"compositionstart",Dh),Yt(e,"compositionend",Io),Yt(e,"change",Io))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:n,trim:r,number:i}},o){if(e[jt]=Us(o),e.composing)return;const a=(i||e.type==="number")&&!/^0\d/.test(e.value)?ur(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(n&&t===s||r&&e.value.trim()===l)||(e.value=l))}},Ll={deep:!0,created(e,t,s){e[jt]=Us(s),Yt(e,"change",()=>{const n=e._modelValue,r=mn(e),i=e.checked,o=e[jt];if(X(n)){const a=Ci(n,r),l=a!==-1;if(i&&!l)o(n.concat(r));else if(!i&&l){const c=[...n];c.splice(a,1),o(c)}}else if(Fs(n)){const a=new Set(n);i?a.add(r):a.delete(r),o(a)}else o(Ul(e,i))})},mounted:No,beforeUpdate(e,t,s){e[jt]=Us(s),No(e,t,s)}};function No(e,{value:t,oldValue:s},n){e._modelValue=t;let r;if(X(t))r=Ci(t,n.props.value)>-1;else if(Fs(t))r=t.has(n.props.value);else{if(t===s)return;r=Cn(t,Ul(e,!0))}e.checked!==r&&(e.checked=r)}const oi={deep:!0,created(e,{value:t,modifiers:{number:s}},n){const r=Fs(t);Yt(e,"change",()=>{const i=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>s?ur(mn(o)):mn(o));e[jt](e.multiple?r?new Set(i):i:i[0]),e._assigning=!0,ji(()=>{e._assigning=!1})}),e[jt]=Us(n)},mounted(e,{value:t}){jo(e,t)},beforeUpdate(e,t,s){e[jt]=Us(s)},updated(e,{value:t}){e._assigning||jo(e,t)}};function jo(e,t){const s=e.multiple,n=X(t);if(!(s&&!n&&!Fs(t))){for(let r=0,i=e.options.length;r<i;r++){const o=e.options[r],a=mn(o);if(s)if(n){const l=typeof a;l==="string"||l==="number"?o.selected=t.some(c=>String(c)===String(a)):o.selected=Ci(t,a)>-1}else o.selected=t.has(a);else if(Cn(mn(o),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function mn(e){return"_value"in e?e._value:e.value}function Ul(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const Lh=["ctrl","shift","alt","meta"],Uh={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Lh.some(s=>e[`${s}Key`]&&!t.includes(s))},ai=(e,t)=>{const s=e._withMods||(e._withMods={}),n=t.join(".");return s[n]||(s[n]=((r,...i)=>{for(let o=0;o<t.length;o++){const a=Uh[t[o]];if(a&&a(r,t))return}return e(r,...i)}))},Mh={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Bh=(e,t)=>{const s=e._withKeys||(e._withKeys={}),n=t.join(".");return s[n]||(s[n]=(r=>{if(!("key"in r))return;const i=es(r.key);if(t.some(o=>o===i||Mh[o]===i))return e(r)}))},Fh=$e({patchProp:Nh},fh);let Do;function qh(){return Do||(Do=Wu(Fh))}const Vh=((...e)=>{const t=qh().createApp(...e),{mount:s}=t;return t.mount=n=>{const r=Kh(n);if(!r)return;const i=t._component;!ne(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=s(r,!1,Hh(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t});function Hh(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Kh(e){return Ce(e)?document.querySelector(e):e}const As=typeof document<"u";function Ml(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Wh(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Ml(e.default)}const fe=Object.assign;function Lr(e,t){const s={};for(const n in t){const r=t[n];s[n]=pt(r)?r.map(e):e(r)}return s}const an=()=>{},pt=Array.isArray;function Lo(e,t){const s={};for(const n in e)s[n]=n in t?t[n]:e[n];return s}const Bl=/#/g,Gh=/&/g,Jh=/\//g,zh=/=/g,Yh=/\?/g,Fl=/\+/g,Qh=/%5B/g,Xh=/%5D/g,ql=/%5E/g,Zh=/%60/g,Vl=/%7B/g,ed=/%7C/g,Hl=/%7D/g,td=/%20/g;function qi(e){return e==null?"":encodeURI(""+e).replace(ed,"|").replace(Qh,"[").replace(Xh,"]")}function sd(e){return qi(e).replace(Vl,"{").replace(Hl,"}").replace(ql,"^")}function li(e){return qi(e).replace(Fl,"%2B").replace(td,"+").replace(Bl,"%23").replace(Gh,"%26").replace(Zh,"`").replace(Vl,"{").replace(Hl,"}").replace(ql,"^")}function nd(e){return li(e).replace(zh,"%3D")}function rd(e){return qi(e).replace(Bl,"%23").replace(Yh,"%3F")}function id(e){return rd(e).replace(Jh,"%2F")}function yn(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const od=/\/$/,ad=e=>e.replace(od,"");function Ur(e,t,s="/"){let n,r={},i="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(n=t.slice(0,l),i=t.slice(l,a>0?a:t.length),r=e(i.slice(1))),a>=0&&(n=n||t.slice(0,a),o=t.slice(a,t.length)),n=hd(n??t,s),{fullPath:n+i+o,path:n,query:r,hash:yn(o)}}function ld(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function Uo(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function cd(e,t,s){const n=t.matched.length-1,r=s.matched.length-1;return n>-1&&n===r&&Ms(t.matched[n],s.matched[r])&&Kl(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function Ms(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Kl(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var s in e)if(!ud(e[s],t[s]))return!1;return!0}function ud(e,t){return pt(e)?Mo(e,t):pt(t)?Mo(t,e):e?.valueOf()===t?.valueOf()}function Mo(e,t){return pt(t)?e.length===t.length&&e.every((s,n)=>s===t[n]):e.length===1&&e[0]===t}function hd(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),n=e.split("/"),r=n[n.length-1];(r===".."||r===".")&&n.push("");let i=s.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+n.slice(o).join("/")}const Ht={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let ci=(function(e){return e.pop="pop",e.push="push",e})({}),Mr=(function(e){return e.back="back",e.forward="forward",e.unknown="",e})({});function dd(e){if(!e)if(As){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),ad(e)}const fd=/^[^#]+#/;function pd(e,t){return e.replace(fd,"#")+t}function gd(e,t){const s=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-s.left-(t.left||0),top:n.top-s.top-(t.top||0)}}const wr=()=>({left:window.scrollX,top:window.scrollY});function vd(e){let t;if("el"in e){const s=e.el,n=typeof s=="string"&&s.startsWith("#"),r=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!r)return;t=gd(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Bo(e,t){return(history.state?history.state.position-t:-1)+e}const ui=new Map;function md(e,t){ui.set(e,t)}function yd(e){const t=ui.get(e);return ui.delete(e),t}function _d(e){return typeof e=="string"||e&&typeof e=="object"}function Wl(e){return typeof e=="string"||typeof e=="symbol"}let ke=(function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e})({});const Gl=Symbol("");ke.MATCHER_NOT_FOUND+"",ke.NAVIGATION_GUARD_REDIRECT+"",ke.NAVIGATION_ABORTED+"",ke.NAVIGATION_CANCELLED+"",ke.NAVIGATION_DUPLICATED+"";function Bs(e,t){return fe(new Error,{type:e,[Gl]:!0},t)}function Ot(e,t){return e instanceof Error&&Gl in e&&(t==null||!!(e.type&t))}const wd=["params","query","hash"];function bd(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const s of wd)s in e&&(t[s]=e[s]);return JSON.stringify(t,null,2)}function Sd(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let n=0;n<s.length;++n){const r=s[n].replace(Fl," "),i=r.indexOf("="),o=yn(i<0?r:r.slice(0,i)),a=i<0?null:yn(r.slice(i+1));if(o in t){let l=t[o];pt(l)||(l=t[o]=[l]),l.push(a)}else t[o]=a}return t}function Fo(e){let t="";for(let s in e){const n=e[s];if(s=nd(s),n==null){n!==void 0&&(t+=(t.length?"&":"")+s);continue}(pt(n)?n.map(r=>r&&li(r)):[n&&li(n)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+s,r!=null&&(t+="="+r))})}return t}function Ed(e){const t={};for(const s in e){const n=e[s];n!==void 0&&(t[s]=pt(n)?n.map(r=>r==null?null:""+r):n==null?n:""+n)}return t}const kd=Symbol(""),qo=Symbol(""),br=Symbol(""),Vi=Symbol(""),hi=Symbol("");function Gs(){let e=[];function t(n){return e.push(n),()=>{const r=e.indexOf(n);r>-1&&e.splice(r,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function Jt(e,t,s,n,r,i=o=>o()){const o=n&&(n.enterCallbacks[r]=n.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const c=d=>{d===!1?l(Bs(ke.NAVIGATION_ABORTED,{from:s,to:t})):d instanceof Error?l(d):_d(d)?l(Bs(ke.NAVIGATION_GUARD_REDIRECT,{from:t,to:d})):(o&&n.enterCallbacks[r]===o&&typeof d=="function"&&o.push(d),a())},u=i(()=>e.call(n&&n.instances[r],t,s,c));let h=Promise.resolve(u);e.length<3&&(h=h.then(c)),h.catch(d=>l(d))})}function Br(e,t,s,n,r=i=>i()){const i=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(Ml(l)){const c=(l.__vccOpts||l)[t];c&&i.push(Jt(c,s,n,o,a,r))}else{let c=l();i.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=Wh(u)?u.default:u;o.mods[a]=u,o.components[a]=h;const d=(h.__vccOpts||h)[t];return d&&Jt(d,s,n,o,a,r)()}))}}return i}function Td(e,t){const s=[],n=[],r=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(c=>Ms(c,a))?n.push(a):s.push(a));const l=e.matched[o];l&&(t.matched.find(c=>Ms(c,l))||r.push(l))}return[s,n,r]}let Ad=()=>location.protocol+"//"+location.host;function Jl(e,t){const{pathname:s,search:n,hash:r}=t,i=e.indexOf("#");if(i>-1){let o=r.includes(e.slice(i))?e.slice(i).length:1,a=r.slice(o);return a[0]!=="/"&&(a="/"+a),Uo(a,"")}return Uo(s,e)+n+r}function Cd(e,t,s,n){let r=[],i=[],o=null;const a=({state:d})=>{const f=Jl(e,location),v=s.value,_=t.value;let A=0;if(d){if(s.value=f,t.value=d,o&&o===v){o=null;return}A=_?d.position-_.position:0}else n(f);r.forEach(k=>{k(s.value,v,{delta:A,type:ci.pop,direction:A?A>0?Mr.forward:Mr.back:Mr.unknown})})};function l(){o=s.value}function c(d){r.push(d);const f=()=>{const v=r.indexOf(d);v>-1&&r.splice(v,1)};return i.push(f),f}function u(){if(document.visibilityState==="hidden"){const{history:d}=window;if(!d.state)return;d.replaceState(fe({},d.state,{scroll:wr()}),"")}}function h(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",u),document.removeEventListener("visibilitychange",u)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u),{pauseListeners:l,listen:c,destroy:h}}function Vo(e,t,s,n=!1,r=!1){return{back:e,current:t,forward:s,replaced:n,position:window.history.length,scroll:r?wr():null}}function Rd(e){const{history:t,location:s}=window,n={value:Jl(e,s)},r={value:t.state};r.value||i(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const h=e.indexOf("#"),d=h>-1?(s.host&&document.querySelector("base")?e:e.slice(h))+l:Ad()+e+l;try{t[u?"replaceState":"pushState"](c,"",d),r.value=c}catch(f){console.error(f),s[u?"replace":"assign"](d)}}function o(l,c){i(l,fe({},t.state,Vo(r.value.back,l,r.value.forward,!0),c,{position:r.value.position}),!0),n.value=l}function a(l,c){const u=fe({},r.value,t.state,{forward:l,scroll:wr()});i(u.current,u,!0),i(l,fe({},Vo(n.value,l,null),{position:u.position+1},c),!1),n.value=l}return{location:n,state:r,push:a,replace:o}}function Od(e){e=dd(e);const t=Rd(e),s=Cd(e,t.state,t.location,t.replace);function n(i,o=!0){o||s.pauseListeners(),history.go(i)}const r=fe({location:"",base:e,go:n,createHref:pd.bind(null,e)},t,s);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}let fs=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e})({});var xe=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e})(xe||{});const xd={type:fs.Static,value:""},Pd=/[a-zA-Z0-9_]/;function Id(e){if(!e)return[[]];if(e==="/")return[[xd]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(f){throw new Error(`ERR (${s})/"${c}": ${f}`)}let s=xe.Static,n=s;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,l,c="",u="";function h(){c&&(s===xe.Static?i.push({type:fs.Static,value:c}):s===xe.Param||s===xe.ParamRegExp||s===xe.ParamRegExpEnd?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:fs.Param,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&s!==xe.ParamRegExp){n=s,s=xe.EscapeNext;continue}switch(s){case xe.Static:l==="/"?(c&&h(),o()):l===":"?(h(),s=xe.Param):d();break;case xe.EscapeNext:d(),s=n;break;case xe.Param:l==="("?s=xe.ParamRegExp:Pd.test(l)?d():(h(),s=xe.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case xe.ParamRegExp:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:s=xe.ParamRegExpEnd:u+=l;break;case xe.ParamRegExpEnd:h(),s=xe.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return s===xe.ParamRegExp&&t(`Unfinished custom RegExp for param "${c}"`),h(),o(),r}const Ho="[^/]+?",$d={sensitive:!1,strict:!1,start:!0,end:!0};var Ve=(function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e})(Ve||{});const Nd=/[.+*?^${}()[\]/\\]/g;function jd(e,t){const s=fe({},$d,t),n=[];let r=s.start?"^":"";const i=[];for(const c of e){const u=c.length?[]:[Ve.Root];s.strict&&!c.length&&(r+="/");for(let h=0;h<c.length;h++){const d=c[h];let f=Ve.Segment+(s.sensitive?Ve.BonusCaseSensitive:0);if(d.type===fs.Static)h||(r+="/"),r+=d.value.replace(Nd,"\\$&"),f+=Ve.Static;else if(d.type===fs.Param){const{value:v,repeatable:_,optional:A,regexp:k}=d;i.push({name:v,repeatable:_,optional:A});const b=k||Ho;if(b!==Ho){f+=Ve.BonusCustomRegExp;try{`${b}`}catch(C){throw new Error(`Invalid custom RegExp for param "${v}" (${b}): `+C.message)}}let w=_?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;h||(w=A&&c.length<2?`(?:/${w})`:"/"+w),A&&(w+="?"),r+=w,f+=Ve.Dynamic,A&&(f+=Ve.BonusOptional),_&&(f+=Ve.BonusRepeatable),b===".*"&&(f+=Ve.BonusWildcard)}u.push(f)}n.push(u)}if(s.strict&&s.end){const c=n.length-1;n[c][n[c].length-1]+=Ve.BonusStrict}s.strict||(r+="/?"),s.end?r+="$":s.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,s.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let d=1;d<u.length;d++){const f=u[d]||"",v=i[d-1];h[v.name]=f&&v.repeatable?f.split("/"):f}return h}function l(c){let u="",h=!1;for(const d of e){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const f of d)if(f.type===fs.Static)u+=f.value;else if(f.type===fs.Param){const{value:v,repeatable:_,optional:A}=f,k=v in c?c[v]:"";if(pt(k)&&!_)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const b=pt(k)?k.join("/"):k;if(!b)if(A)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${v}"`);u+=b}}return u||"/"}return{re:o,score:n,keys:i,parse:a,stringify:l}}function Dd(e,t){let s=0;for(;s<e.length&&s<t.length;){const n=t[s]-e[s];if(n)return n;s++}return e.length<t.length?e.length===1&&e[0]===Ve.Static+Ve.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===Ve.Static+Ve.Segment?1:-1:0}function zl(e,t){let s=0;const n=e.score,r=t.score;for(;s<n.length&&s<r.length;){const i=Dd(n[s],r[s]);if(i)return i;s++}if(Math.abs(r.length-n.length)===1){if(Ko(n))return 1;if(Ko(r))return-1}return r.length-n.length}function Ko(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Ld={strict:!1,end:!0,sensitive:!1};function Ud(e,t,s){const n=jd(Id(e.path),s),r=fe(n,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function Md(e,t){const s=[],n=new Map;t=Lo(Ld,t);function r(h){return n.get(h)}function i(h,d,f){const v=!f,_=Go(h);_.aliasOf=f&&f.record;const A=Lo(t,h),k=[_];if("alias"in h){const C=typeof h.alias=="string"?[h.alias]:h.alias;for(const H of C)k.push(Go(fe({},_,{components:f?f.record.components:_.components,path:H,aliasOf:f?f.record:_})))}let b,w;for(const C of k){const{path:H}=C;if(d&&H[0]!=="/"){const q=d.record.path,z=q[q.length-1]==="/"?"":"/";C.path=d.record.path+(H&&z+H)}if(b=Ud(C,d,A),f?f.alias.push(b):(w=w||b,w!==b&&w.alias.push(b),v&&h.name&&!Jo(b)&&o(h.name)),Yl(b)&&l(b),_.children){const q=_.children;for(let z=0;z<q.length;z++)i(q[z],b,f&&f.children[z])}f=f||b}return w?()=>{o(w)}:an}function o(h){if(Wl(h)){const d=n.get(h);d&&(n.delete(h),s.splice(s.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=s.indexOf(h);d>-1&&(s.splice(d,1),h.record.name&&n.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return s}function l(h){const d=qd(h,s);s.splice(d,0,h),h.record.name&&!Jo(h)&&n.set(h.record.name,h)}function c(h,d){let f,v={},_,A;if("name"in h&&h.name){if(f=n.get(h.name),!f)throw Bs(ke.MATCHER_NOT_FOUND,{location:h});A=f.record.name,v=fe(Wo(d.params,f.keys.filter(w=>!w.optional).concat(f.parent?f.parent.keys.filter(w=>w.optional):[]).map(w=>w.name)),h.params&&Wo(h.params,f.keys.map(w=>w.name))),_=f.stringify(v)}else if(h.path!=null)_=h.path,f=s.find(w=>w.re.test(_)),f&&(v=f.parse(_),A=f.record.name);else{if(f=d.name?n.get(d.name):s.find(w=>w.re.test(d.path)),!f)throw Bs(ke.MATCHER_NOT_FOUND,{location:h,currentLocation:d});A=f.record.name,v=fe({},d.params,h.params),_=f.stringify(v)}const k=[];let b=f;for(;b;)k.unshift(b.record),b=b.parent;return{name:A,path:_,params:v,matched:k,meta:Fd(k)}}e.forEach(h=>i(h));function u(){s.length=0,n.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:r}}function Wo(e,t){const s={};for(const n of t)n in e&&(s[n]=e[n]);return s}function Go(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Bd(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Bd(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const n in e.components)t[n]=typeof s=="object"?s[n]:s;return t}function Jo(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Fd(e){return e.reduce((t,s)=>fe(t,s.meta),{})}function qd(e,t){let s=0,n=t.length;for(;s!==n;){const i=s+n>>1;zl(e,t[i])<0?n=i:s=i+1}const r=Vd(e);return r&&(n=t.lastIndexOf(r,n-1)),n}function Vd(e){let t=e;for(;t=t.parent;)if(Yl(t)&&zl(e,t)===0)return t}function Yl({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function zo(e){const t=ht(br),s=ht(Vi),n=Ee(()=>{const l=$s(e.to);return t.resolve(l)}),r=Ee(()=>{const{matched:l}=n.value,{length:c}=l,u=l[c-1],h=s.matched;if(!u||!h.length)return-1;const d=h.findIndex(Ms.bind(null,u));if(d>-1)return d;const f=Yo(l[c-2]);return c>1&&Yo(u)===f&&h[h.length-1].path!==f?h.findIndex(Ms.bind(null,l[c-2])):d}),i=Ee(()=>r.value>-1&&Jd(s.params,n.value.params)),o=Ee(()=>r.value>-1&&r.value===s.matched.length-1&&Kl(s.params,n.value.params));function a(l={}){if(Gd(l)){const c=t[$s(e.replace)?"replace":"push"]($s(e.to)).catch(an);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:n,href:Ee(()=>n.value.href),isActive:i,isExactActive:o,navigate:a}}function Hd(e){return e.length===1?e[0]:e}const Kd=ll({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:zo,setup(e,{slots:t}){const s=fr(zo(e)),{options:n}=ht(br),r=Ee(()=>({[Qo(e.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[Qo(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=t.default&&Hd(t.default(s));return e.custom?i:Fi("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:r.value},i)}}}),Wd=Kd;function Gd(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Jd(e,t){for(const s in t){const n=t[s],r=e[s];if(typeof n=="string"){if(n!==r)return!1}else if(!pt(r)||r.length!==n.length||n.some((i,o)=>i.valueOf()!==r[o].valueOf()))return!1}return!0}function Yo(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Qo=(e,t,s)=>e??t??s,zd=ll({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const n=ht(hi),r=Ee(()=>e.route||n.value),i=ht(qo,0),o=Ee(()=>{let c=$s(i);const{matched:u}=r.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=Ee(()=>r.value.matched[o.value]);Kn(qo,Ee(()=>o.value+1)),Kn(kd,a),Kn(hi,r);const l=re();return ms(()=>[l.value,a.value,e.name],([c,u,h],[d,f,v])=>{u&&(u.instances[h]=c,f&&f!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!Ms(u,f)||!d)&&(u.enterCallbacks[h]||[]).forEach(_=>_(c))},{flush:"post"}),()=>{const c=r.value,u=e.name,h=a.value,d=h&&h.components[u];if(!d)return Xo(s.default,{Component:d,route:c});const f=h.props[u],v=f?f===!0?c.params:typeof f=="function"?f(c):f:null,A=Fi(d,fe({},v,t,{onVnodeUnmounted:k=>{k.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return Xo(s.default,{Component:A,route:c})||A}}});function Xo(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const Yd=zd;function Qd(e){const t=Md(e.routes,e),s=e.parseQuery||Sd,n=e.stringifyQuery||Fo,r=e.history,i=Gs(),o=Gs(),a=Gs(),l=zc(Ht);let c=Ht;As&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Lr.bind(null,O=>""+O),h=Lr.bind(null,id),d=Lr.bind(null,yn);function f(O,S){let T,E;return Wl(O)?(T=t.getRecordMatcher(O),E=S):E=O,t.addRoute(E,T)}function v(O){const S=t.getRecordMatcher(O);S&&t.removeRoute(S)}function _(){return t.getRoutes().map(O=>O.record)}function A(O){return!!t.getRecordMatcher(O)}function k(O,S){if(S=fe({},S||l.value),typeof O=="string"){const m=Ur(s,O,S.path),R=t.resolve({path:m.path},S),P=r.createHref(m.fullPath);return fe(m,R,{params:d(R.params),hash:yn(m.hash),redirectedFrom:void 0,href:P})}let T;if(O.path!=null)T=fe({},O,{path:Ur(s,O.path,S.path).path});else{const m=fe({},O.params);for(const R in m)m[R]==null&&delete m[R];T=fe({},O,{params:h(m)}),S.params=h(S.params)}const E=t.resolve(T,S),G=O.hash||"";E.params=u(d(E.params));const p=ld(n,fe({},O,{hash:sd(G),path:E.path})),g=r.createHref(p);return fe({fullPath:p,hash:G,query:n===Fo?Ed(O.query):O.query||{}},E,{redirectedFrom:void 0,href:g})}function b(O){return typeof O=="string"?Ur(s,O,l.value.path):fe({},O)}function w(O,S){if(c!==O)return Bs(ke.NAVIGATION_CANCELLED,{from:S,to:O})}function C(O){return z(O)}function H(O){return C(fe(b(O),{replace:!0}))}function q(O,S){const T=O.matched[O.matched.length-1];if(T&&T.redirect){const{redirect:E}=T;let G=typeof E=="function"?E(O,S):E;return typeof G=="string"&&(G=G.includes("?")||G.includes("#")?G=b(G):{path:G},G.params={}),fe({query:O.query,hash:O.hash,params:G.path!=null?{}:O.params},G)}}function z(O,S){const T=c=k(O),E=l.value,G=O.state,p=O.force,g=O.replace===!0,m=q(T,E);if(m)return z(fe(b(m),{state:typeof m=="object"?fe({},G,m.state):G,force:p,replace:g}),S||T);const R=T;R.redirectedFrom=S;let P;return!p&&cd(n,E,T)&&(P=Bs(ke.NAVIGATION_DUPLICATED,{to:R,from:E}),nt(E,E,!0,!1)),(P?Promise.resolve(P):ae(R,E)).catch(x=>Ot(x)?Ot(x,ke.NAVIGATION_GUARD_REDIRECT)?x:gt(x):W(x,R,E)).then(x=>{if(x){if(Ot(x,ke.NAVIGATION_GUARD_REDIRECT))return z(fe({replace:g},b(x.to),{state:typeof x.to=="object"?fe({},G,x.to.state):G,force:p}),S||R)}else x=U(R,E,!0,g,G);return he(R,E,x),x})}function ve(O,S){const T=w(O,S);return T?Promise.reject(T):Promise.resolve()}function Y(O){const S=qt.values().next().value;return S&&typeof S.runWithContext=="function"?S.runWithContext(O):O()}function ae(O,S){let T;const[E,G,p]=Td(O,S);T=Br(E.reverse(),"beforeRouteLeave",O,S);for(const m of E)m.leaveGuards.forEach(R=>{T.push(Jt(R,O,S))});const g=ve.bind(null,O,S);return T.push(g),We(T).then(()=>{T=[];for(const m of i.list())T.push(Jt(m,O,S));return T.push(g),We(T)}).then(()=>{T=Br(G,"beforeRouteUpdate",O,S);for(const m of G)m.updateGuards.forEach(R=>{T.push(Jt(R,O,S))});return T.push(g),We(T)}).then(()=>{T=[];for(const m of p)if(m.beforeEnter)if(pt(m.beforeEnter))for(const R of m.beforeEnter)T.push(Jt(R,O,S));else T.push(Jt(m.beforeEnter,O,S));return T.push(g),We(T)}).then(()=>(O.matched.forEach(m=>m.enterCallbacks={}),T=Br(p,"beforeRouteEnter",O,S,Y),T.push(g),We(T))).then(()=>{T=[];for(const m of o.list())T.push(Jt(m,O,S));return T.push(g),We(T)}).catch(m=>Ot(m,ke.NAVIGATION_CANCELLED)?m:Promise.reject(m))}function he(O,S,T){a.list().forEach(E=>Y(()=>E(O,S,T)))}function U(O,S,T,E,G){const p=w(O,S);if(p)return p;const g=S===Ht,m=As?history.state:{};T&&(E||g?r.replace(O.fullPath,fe({scroll:g&&m&&m.scroll},G)):r.push(O.fullPath,G)),l.value=O,nt(O,S,T,g),gt()}let $;function K(){$||($=r.listen((O,S,T)=>{if(!At.listening)return;const E=k(O),G=q(E,At.currentRoute.value);if(G){z(fe(G,{replace:!0,force:!0}),E).catch(an);return}c=E;const p=l.value;As&&md(Bo(p.fullPath,T.delta),wr()),ae(E,p).catch(g=>Ot(g,ke.NAVIGATION_ABORTED|ke.NAVIGATION_CANCELLED)?g:Ot(g,ke.NAVIGATION_GUARD_REDIRECT)?(z(fe(b(g.to),{force:!0}),E).then(m=>{Ot(m,ke.NAVIGATION_ABORTED|ke.NAVIGATION_DUPLICATED)&&!T.delta&&T.type===ci.pop&&r.go(-1,!1)}).catch(an),Promise.reject()):(T.delta&&r.go(-T.delta,!1),W(g,E,p))).then(g=>{g=g||U(E,p,!1),g&&(T.delta&&!Ot(g,ke.NAVIGATION_CANCELLED)?r.go(-T.delta,!1):T.type===ci.pop&&Ot(g,ke.NAVIGATION_ABORTED|ke.NAVIGATION_DUPLICATED)&&r.go(-1,!1)),he(E,p,g)}).catch(an)}))}let N=Gs(),de=Gs(),V;function W(O,S,T){gt(O);const E=de.list();return E.length?E.forEach(G=>G(O,S,T)):console.error(O),Promise.reject(O)}function Fe(){return V&&l.value!==Ht?Promise.resolve():new Promise((O,S)=>{N.add([O,S])})}function gt(O){return V||(V=!O,K(),N.list().forEach(([S,T])=>O?T(O):S()),N.reset()),O}function nt(O,S,T,E){const{scrollBehavior:G}=e;if(!As||!G)return Promise.resolve();const p=!T&&yd(Bo(O.fullPath,0))||(E||!T)&&history.state&&history.state.scroll||null;return ji().then(()=>G(O,S,p)).then(g=>g&&vd(g)).catch(g=>W(g,O,S))}const Ne=O=>r.go(O);let Tt;const qt=new Set,At={currentRoute:l,listening:!0,addRoute:f,removeRoute:v,clearRoutes:t.clearRoutes,hasRoute:A,getRoutes:_,resolve:k,options:e,push:C,replace:H,go:Ne,back:()=>Ne(-1),forward:()=>Ne(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:de.add,isReady:Fe,install(O){O.component("RouterLink",Wd),O.component("RouterView",Yd),O.config.globalProperties.$router=At,Object.defineProperty(O.config.globalProperties,"$route",{enumerable:!0,get:()=>$s(l)}),As&&!Tt&&l.value===Ht&&(Tt=!0,C(r.location).catch(E=>{}));const S={};for(const E in Ht)Object.defineProperty(S,E,{get:()=>l.value[E],enumerable:!0});O.provide(br,At),O.provide(Vi,Wa(S)),O.provide(hi,l);const T=O.unmount;qt.add(O),O.unmount=function(){qt.delete(O),qt.size<1&&(c=Ht,$&&$(),$=null,l.value=Ht,Tt=!1,V=!1),T()}}};function We(O){return O.reduce((S,T)=>S.then(()=>Y(T)),Promise.resolve())}return At}function xn(){return ht(br)}function Xd(e){return ht(Vi)}function Sr(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]]);return s}function Zd(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):r(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})}const ef=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Hi extends Error{constructor(t,s="FunctionsError",n){super(t),this.name=s,this.context=n}}class tf extends Hi{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Zo extends Hi{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ea extends Hi{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var di;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(di||(di={}));class sf{constructor(t,{headers:s={},customFetch:n,region:r=di.Any}={}){this.url=t,this.headers=s,this.region=r,this.fetch=ef(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Zd(this,arguments,void 0,function*(s,n={}){var r;let i,o;try{const{headers:a,method:l,body:c,signal:u,timeout:h}=n;let d={},{region:f}=n;f||(f=this.region);const v=new URL(`${this.url}/${s}`);f&&f!=="any"&&(d["x-region"]=f,v.searchParams.set("forceFunctionRegion",f));let _;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",_=c):typeof c=="string"?(d["Content-Type"]="text/plain",_=c):typeof FormData<"u"&&c instanceof FormData?_=c:(d["Content-Type"]="application/json",_=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?_=JSON.stringify(c):_=c;let A=u;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),u?(A=o.signal,u.addEventListener("abort",()=>o.abort())):A=o.signal);const k=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),a),body:_,signal:A}).catch(H=>{throw new tf(H)}),b=k.headers.get("x-relay-error");if(b&&b==="true")throw new Zo(k);if(!k.ok)throw new ea(k);let w=((r=k.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),C;return w==="application/json"?C=yield k.json():w==="application/octet-stream"||w==="application/pdf"?C=yield k.blob():w==="text/event-stream"?C=k:w==="multipart/form-data"?C=yield k.formData():C=yield k.text(),{data:C,error:null,response:k}}catch(a){return{data:null,error:a,response:a instanceof ea||a instanceof Zo?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var nf=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},rf=class{constructor(e){var t,s,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(s=e.isMaybeSingle)!==null&&s!==void 0?s:!1,this.urlLengthLimit=(n=e.urlLengthLimit)!==null&&n!==void 0?n:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let r=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,a=null,l=null,c=i.status,u=i.statusText;if(i.ok){var h,d;if(s.method!=="HEAD"){var f;const k=await i.text();k===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((f=s.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?a=k:a=JSON.parse(k))}const _=(h=s.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),A=(d=i.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");_&&A&&A.length>1&&(l=parseInt(A[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,c=406,u="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var v;const _=await i.text();try{o=JSON.parse(_),Array.isArray(o)&&i.status===404&&(a=[],o=null,c=200,u="OK")}catch{i.status===404&&_===""?(c=204,u="No Content"):o={message:_}}if(o&&s.isMaybeSingle&&(!(o==null||(v=o.details)===null||v===void 0)&&v.includes("0 rows"))&&(o=null,c=200,u="OK"),o&&s.shouldThrowOnError)throw new nf(o)}return{error:o,data:a,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(r=r.catch(i=>{var o;let a="",l="",c="";const u=i?.cause;if(u){var h,d,f,v;const k=(h=u?.message)!==null&&h!==void 0?h:"",b=(d=u?.code)!==null&&d!==void 0?d:"";a=`${(f=i?.name)!==null&&f!==void 0?f:"FetchError"}: ${i?.message}`,a+=`

Caused by: ${(v=u?.name)!==null&&v!==void 0?v:"Error"}: ${k}`,b&&(a+=` (${b})`),u?.stack&&(a+=`
${u.stack}`)}else{var _;a=(_=i?.stack)!==null&&_!==void 0?_:""}const A=this.url.toString().length;return i?.name==="AbortError"||i?.code==="ABORT_ERR"?(c="",l="Request was aborted (timeout or manual cancellation)",A>this.urlLengthLimit&&(l+=`. Note: Your request URL is ${A} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(u?.name==="HeadersOverflowError"||u?.code==="UND_ERR_HEADERS_OVERFLOW")&&(c="",l="HTTP headers exceeded server limits (typically 16KB)",A>this.urlLengthLimit&&(l+=`. Your request URL is ${A} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(o=i?.name)!==null&&o!==void 0?o:"FetchError"}: ${i?.message}`,details:a,hint:l,code:c},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}returns(){return this}overrideTypes(){return this}},of=class extends rf{select(e){let t=!1;const s=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:s,foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:s=t}={}){const n=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:s,referencedTable:n=s}={}){const r=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:s=!1,buffers:n=!1,wal:r=!1,format:i="text"}={}){var o;const a=[e?"analyze":null,t?"verbose":null,s?"settings":null,n?"buffers":null,r?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const ta=new RegExp("[,()]");var Cs=class extends of{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const s=Array.from(new Set(t)).map(n=>typeof n=="string"&&ta.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${s})`),this}notIn(e,t){const s=Array.from(new Set(t)).map(n=>typeof n=="string"&&ta.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${s})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:s,type:n}={}){let r="";n==="plain"?r="pl":n==="phrase"?r="ph":n==="websearch"&&(r="w");const i=s===void 0?"":`(${s})`;return this.url.searchParams.append(e,`${r}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,s])=>{this.url.searchParams.append(t,`eq.${s}`)}),this}not(e,t,s){return this.url.searchParams.append(e,`not.${t}.${s}`),this}or(e,{foreignTable:t,referencedTable:s=t}={}){const n=s?`${s}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,s){return this.url.searchParams.append(e,`${t}.${s}`),this}},af=class{constructor(e,{headers:t={},schema:s,fetch:n,urlLengthLimit:r=8e3}){this.url=e,this.headers=new Headers(t),this.schema=s,this.fetch=n,this.urlLengthLimit=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:s=!1,count:n}=t??{},r=s?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join(""),{url:a,headers:l}=this.cloneRequestState();return a.searchParams.set("select",o),n&&l.append("Prefer",`count=${n}`),new Cs({method:r,url:a,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:s=!0}={}){var n;const r="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),s||o.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);i.searchParams.set("columns",l.join(","))}}return new Cs({method:r,url:i,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:s=!1,count:n,defaultToNull:r=!0}={}){var i;const o="POST",{url:a,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),t!==void 0&&a.searchParams.set("on_conflict",t),n&&l.append("Prefer",`count=${n}`),r||l.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);a.searchParams.set("columns",u.join(","))}}return new Cs({method:o,url:a,headers:l,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var s;const n="PATCH",{url:r,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Cs({method:n,url:r,headers:i,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const s="DELETE",{url:n,headers:r}=this.cloneRequestState();return e&&r.append("Prefer",`count=${e}`),new Cs({method:s,url:n,headers:r,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function _n(e){"@babel/helpers - typeof";return _n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_n(e)}function lf(e,t){if(_n(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,t);if(_n(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cf(e){var t=lf(e,"string");return _n(t)=="symbol"?t:t+""}function uf(e,t,s){return(t=cf(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function sa(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,n)}return s}function Dn(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?sa(Object(s),!0).forEach(function(n){uf(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):sa(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}var hf=class Ql{constructor(t,{headers:s={},schema:n,fetch:r,timeout:i,urlLengthLimit:o=8e3}={}){this.url=t,this.headers=new Headers(s),this.schemaName=n,this.urlLengthLimit=o;const a=r??globalThis.fetch;i!==void 0&&i>0?this.fetch=(l,c)=>{const u=new AbortController,h=setTimeout(()=>u.abort(),i),d=c?.signal;if(d){if(d.aborted)return clearTimeout(h),a(l,c);const f=()=>{clearTimeout(h),u.abort()};return d.addEventListener("abort",f,{once:!0}),a(l,Dn(Dn({},c),{},{signal:u.signal})).finally(()=>{clearTimeout(h),d.removeEventListener("abort",f)})}return a(l,Dn(Dn({},c),{},{signal:u.signal})).finally(()=>clearTimeout(h))}:this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new af(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new Ql(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,s={},{head:n=!1,get:r=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${t}`);let c;const u=f=>f!==null&&typeof f=="object"&&(!Array.isArray(f)||f.some(u)),h=n&&Object.values(s).some(u);h?(a="POST",c=s):n||r?(a=n?"HEAD":"GET",Object.entries(s).filter(([f,v])=>v!==void 0).map(([f,v])=>[f,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([f,v])=>{l.searchParams.append(f,v)})):(a="POST",c=s);const d=new Headers(this.headers);return h?d.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&d.set("Prefer",`count=${i}`),new Cs({method:a,url:l,headers:d,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}};class df{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const n=s.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let s=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(s+=`

Suggested solution: ${t.workaround}`),new Error(s)}static createWebSocket(t,s){const n=this.getWebSocketConstructor();return new n(t,s)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const ff="2.95.3",pf=`realtime-js/${ff}`,gf="1.0.0",Xl="2.0.0",na=Xl,fi=1e4,vf=1e3,mf=100;var zt;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(zt||(zt={}));var Pe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Pe||(Pe={}));var ct;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ct||(ct={}));var pi;(function(e){e.websocket="websocket"})(pi||(pi={}));var hs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(hs||(hs={}));class yf{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,s){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return s(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var s;return this._isArrayBuffer((s=t.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var s,n;const r=(n=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,r)}_encodeJsonUserBroadcastPush(t){var s,n;const r=(n=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(r)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,s,n){var r,i;const o=t.topic,a=(r=t.ref)!==null&&r!==void 0?r:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",c=t.payload.event,u=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const d=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+c.length+h.length,f=new ArrayBuffer(this.HEADER_LENGTH+d);let v=new DataView(f),_=0;v.setUint8(_++,this.KINDS.userBroadcastPush),v.setUint8(_++,l.length),v.setUint8(_++,a.length),v.setUint8(_++,o.length),v.setUint8(_++,c.length),v.setUint8(_++,h.length),v.setUint8(_++,s),Array.from(l,k=>v.setUint8(_++,k.charCodeAt(0))),Array.from(a,k=>v.setUint8(_++,k.charCodeAt(0))),Array.from(o,k=>v.setUint8(_++,k.charCodeAt(0))),Array.from(c,k=>v.setUint8(_++,k.charCodeAt(0))),Array.from(h,k=>v.setUint8(_++,k.charCodeAt(0)));var A=new Uint8Array(f.byteLength+n.byteLength);return A.set(new Uint8Array(f),0),A.set(new Uint8Array(n),f.byteLength),A.buffer}decode(t,s){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return s(n)}if(typeof t=="string"){const n=JSON.parse(t),[r,i,o,a,l]=n;return s({join_ref:r,ref:i,topic:o,event:a,payload:l})}return s({})}_binaryDecode(t){const s=new DataView(t),n=s.getUint8(0),r=new TextDecoder;if(n===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,s,r)}_decodeUserBroadcast(t,s,n){const r=s.getUint8(1),i=s.getUint8(2),o=s.getUint8(3),a=s.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(t.slice(l,l+r));l=l+r;const u=n.decode(t.slice(l,l+i));l=l+i;const h=n.decode(t.slice(l,l+o));l=l+o;const d=t.slice(l,t.byteLength),f=a===this.JSON_ENCODING?JSON.parse(n.decode(d)):d,v={type:this.BROADCAST_EVENT,event:u,payload:f};return o>0&&(v.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var s;return t instanceof ArrayBuffer||((s=t?.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(t,s){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>s.includes(n)))}}class Zl{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var be;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(be||(be={}));const ra=(e,t,s={})=>{var n;const r=(n=s.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=_f(o,e,t,r),i),{}):{}},_f=(e,t,s,n)=>{const r=t.find(a=>a.name===e),i=r?.type,o=s[e];return i&&!n.includes(i)?ec(i,o):gi(o)},ec=(e,t)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return Ef(t,s)}switch(e){case be.bool:return wf(t);case be.float4:case be.float8:case be.int2:case be.int4:case be.int8:case be.numeric:case be.oid:return bf(t);case be.json:case be.jsonb:return Sf(t);case be.timestamp:return kf(t);case be.abstime:case be.date:case be.daterange:case be.int4range:case be.int8range:case be.money:case be.reltime:case be.text:case be.time:case be.timestamptz:case be.timetz:case be.tsrange:case be.tstzrange:return gi(t);default:return gi(t)}},gi=e=>e,wf=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},bf=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Sf=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Ef=(e,t)=>{if(typeof e!="string")return e;const s=e.length-1,n=e[s];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>ec(t,a))}return e},kf=e=>typeof e=="string"?e.replace(" ","T"):e,tc=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Fr{constructor(t,s,n={},r=fi){this.channel=t,this.event=s,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var n;return this._hasReceived(t)&&s((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ia;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ia||(ia={}));class ln{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ln.syncState(this.state,r,i,o),this.pendingDiffs.forEach(l=>{this.state=ln.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=ln.syncDiff(this.state,r,i,o),a())}),this.onJoin((r,i,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:o})}),this.onLeave((r,i,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,n,r){const i=this.cloneDeep(t),o=this.transformState(s),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=i[c];if(h){const d=u.map(A=>A.presence_ref),f=h.map(A=>A.presence_ref),v=u.filter(A=>f.indexOf(A.presence_ref)<0),_=h.filter(A=>d.indexOf(A.presence_ref)<0);v.length>0&&(a[c]=v),_.length>0&&(l[c]=_)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},n,r)}static syncDiff(t,s,n,r){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const h=t[a].map(f=>f.presence_ref),d=u.filter(f=>h.indexOf(f.presence_ref)<0);t[a].unshift(...d)}n(a,u,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),t[a]=c,r(a,c,l),c.length===0&&delete t[a]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(n=>s(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,n)=>{const r=t[n];return"metas"in r?s[n]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[n]=r,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var oa;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(oa||(oa={}));var cn;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(cn||(cn={}));var Pt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Pt||(Pt={}));class xs{constructor(t,s={config:{}},n){var r,i;if(this.topic=t,this.params=s,this.socket=n,this.bindings={},this.state=Pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Fr(this,ct.join,this.params,this.timeout),this.rejoinTimer=new Zl(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pe.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ct.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new ln(this),this.broadcastEndpointURL=tc(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(r=this.params.config)===null||r===void 0?void 0:r.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,s=this.timeout){var n,r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Pe.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(r=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&r!==void 0?r:[],u=!!this.bindings[cn.PRESENCE]&&this.bindings[cn.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},d={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>t?.(Pt.CHANNEL_ERROR,f)),this._onClose(()=>t?.(Pt.CLOSED)),this.updateJoinPayload(Object.assign({config:d},h)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:f})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){t?.(Pt.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,A=(v=_?.length)!==null&&v!==void 0?v:0,k=[];for(let b=0;b<A;b++){const w=_[b],{filter:{event:C,schema:H,table:q,filter:z}}=w,ve=f&&f[b];if(ve&&ve.event===C&&xs.isFilterValueEqual(ve.schema,H)&&xs.isFilterValueEqual(ve.table,q)&&xs.isFilterValueEqual(ve.filter,z))k.push(Object.assign(Object.assign({},w),{id:ve.id}));else{this.unsubscribe(),this.state=Pe.errored,t?.(Pt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,t&&t(Pt.SUBSCRIBED);return}}).receive("error",f=>{this.state=Pe.errored,t?.(Pt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t?.(Pt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,n){return this.state===Pe.joined&&t===cn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,s,n)}async httpSend(t,s,n={}){var r;if(s==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:s,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,s={}){var n,r;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);return await((r=c.body)===null||r===void 0?void 0:r.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Pe.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ct.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new Fr(this,ct.leave,{},t),n.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pe.closed,this.bindings={}}async _fetchWithTimeout(t,s,n){const r=new AbortController,i=setTimeout(()=>r.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:r.signal}));return clearTimeout(i),o}_push(t,s,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Fr(this,t,s,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>mf){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(t,s,n){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,n){var r,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=ct;if(n&&[a,l,c,u].indexOf(o)>=0&&n!==this._joinRef())return;let d=this._onMessage(o,s,n);if(s&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(f=>{var v,_,A;return((v=f.filter)===null||v===void 0?void 0:v.event)==="*"||((A=(_=f.filter)===null||_===void 0?void 0:_.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===o}).map(f=>f.callback(d,n)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var v,_,A,k,b,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const C=f.id,H=(v=f.filter)===null||v===void 0?void 0:v.event;return C&&((_=s.ids)===null||_===void 0?void 0:_.includes(C))&&(H==="*"||H?.toLocaleLowerCase()===((A=s.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const C=(b=(k=f?.filter)===null||k===void 0?void 0:k.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return C==="*"||C===((w=s?.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof d=="object"&&"ids"in d){const v=d.data,{schema:_,table:A,commit_timestamp:k,type:b,errors:w}=v;d=Object.assign(Object.assign({},{schema:_,table:A,commit_timestamp:k,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(v))}f.callback(d,n)})}_isClosed(){return this.state===Pe.closed}_isJoined(){return this.state===Pe.joined}_isJoining(){return this.state===Pe.joining}_isLeaving(){return this.state===Pe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,n){const r=t.toLocaleLowerCase(),i={type:r,filter:s,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(t,s){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&xs.isEqual(r.filter,s))})),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const n in t)if(t[n]!==s[n])return!1;return!0}static isFilterValueEqual(t,s){return(t??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ct.close,{},t)}_onError(t){this._on(ct.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=ra(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=ra(t.columns,t.old_record)),s}}const qr=()=>{},Ln={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Tf=[1e3,2e3,5e3,1e4],Af=1e4,Cf=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Rf{constructor(t,s){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=fi,this.transport=null,this.heartbeatIntervalMs=Ln.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qr,this.ref=0,this.reconnectTimer=null,this.vsn=na,this.logger=qr,this.conn=null,this.sendBuffer=[],this.serializer=new yf,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=r=>r?(...i)=>r(...i):(...i)=>fetch(...i),!(!((n=s?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${t}/${pi.websocket}`,this.httpEndpoint=tc(t),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=df.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const s=t.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return s==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,n){this.logger(t,s,n)}connectionState(){switch(this.conn&&this.conn.readyState){case zt.connecting:return hs.Connecting;case zt.open:return hs.Open;case zt.closing:return hs.Closing;default:return hs.Closed}}isConnected(){return this.connectionState()===hs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,s={config:{}}){const n=`realtime:${t}`,r=this.getChannels().find(i=>i.topic===n);if(r)return r;{const i=new xs(`realtime:${t}`,s,this);return this.channels.push(i),i}}push(t){const{topic:s,event:n,payload:r,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${n} (${i})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(vf,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Ln.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",c)}catch(u){this.log("error","error in heartbeat callback",u)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:r,payload:i,ref:o}=s,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${r} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(r,i,o)),this._triggerStateCallbacks("message",s)})}_clearTimer(t){var s;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===zt.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===zt.open||this.conn.readyState===zt.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var s;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(s){this.log("error","error in heartbeat callback",s)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(ct.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const n=t.match(/\?/)?"&":"?",r=new URLSearchParams(s);return`${t}${n}${r}`}_workerObjectUrl(t){let s;if(t)s=t;else{const n=new Blob([Cf],{type:"application/javascript"});s=URL.createObjectURL(n)}return s}_setConnectionState(t,s=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(t=null){let s,n=!1;if(t)s=t,n=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(r){this.log("error","Error fetching access token from callback",r),s=this.accessTokenValue}else s=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(r=>{const i={access_token:s,version:pf};s&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(ct.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${t}`,s)})}_triggerStateCallbacks(t,s){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(s)}catch(r){this.log("error",`error in ${t} callback`,r)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Zl(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ln.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var s,n,r,i,o,a,l,c,u,h,d,f;switch(this.transport=(s=t?.transport)!==null&&s!==void 0?s:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:fi,this.heartbeatIntervalMs=(r=t?.heartbeatIntervalMs)!==null&&r!==void 0?r:Ln.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t?.heartbeatCallback)!==null&&a!==void 0?a:qr,this.vsn=(l=t?.vsn)!==null&&l!==void 0?l:na,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t?.reconnectAfterMs)!==null&&c!==void 0?c:(v=>Tf[v-1]||Af),this.vsn){case gf:this.encode=(u=t?.encode)!==null&&u!==void 0?u:((v,_)=>_(JSON.stringify(v))),this.decode=(h=t?.decode)!==null&&h!==void 0?h:((v,_)=>_(JSON.parse(v)));break;case Xl:this.encode=(d=t?.encode)!==null&&d!==void 0?d:this.serializer.encode.bind(this.serializer),this.decode=(f=t?.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var wn=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Of(e,t,s){const n=new URL(t,e);if(s)for(const[r,i]of Object.entries(s))i!==void 0&&n.searchParams.set(r,i);return n.toString()}async function xf(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Pf(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:s,path:n,query:r,body:i,headers:o}){const a=Of(e.baseUrl,n,r),l=await xf(e.auth),c=await t(a,{method:s,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),u=await c.text(),h=(c.headers.get("content-type")||"").includes("application/json"),d=h&&u?JSON.parse(u):u;if(!c.ok){const f=h?d:void 0,v=f?.error;throw new wn(v?.message??`Request failed with status ${c.status}`,{status:c.status,icebergType:v?.type,icebergCode:v?.code,details:f})}return{status:c.status,headers:c.headers,data:d}}}}function Un(e){return e.join("")}var If=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Un(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const s={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Un(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Un(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Un(e.namespace)}`}),!0}catch(t){if(t instanceof wn&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(s){if(s instanceof wn&&s.status===409)return;throw s}}};function _s(e){return e.join("")}var $f=class{constructor(e,t="",s){this.client=e,this.prefix=t,this.accessDelegation=s}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_s(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${_s(e.namespace)}/tables`,body:t,headers:s})).data.metadata}async updateTable(e,t){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${_s(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${_s(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_s(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${_s(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(s){if(s instanceof wn&&s.status===404)return!1;throw s}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(s){if(s instanceof wn&&s.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw s}}},Nf=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const s=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Pf({baseUrl:s,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new If(this.client,t),this.tableOps=new $f(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Er=class extends Error{constructor(e,t="storage",s,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=s,this.statusCode=n}};function kr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Mn=class extends Er{constructor(e,t,s,n="storage"){super(e,n,t,s),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},sc=class extends Er{constructor(e,t,s="storage"){super(e,s),this.name=s==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const jf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Df=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},vi=e=>{if(Array.isArray(e))return e.map(s=>vi(s));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([s,n])=>{const r=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[r]=vi(n)}),t},Lf=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function bn(e){"@babel/helpers - typeof";return bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bn(e)}function Uf(e,t){if(bn(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,t);if(bn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mf(e){var t=Uf(e,"string");return bn(t)=="symbol"?t:t+""}function Bf(e,t,s){return(t=Mf(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function aa(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,n)}return s}function te(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?aa(Object(s),!0).forEach(function(n){Bf(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):aa(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}const la=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Ff=async(e,t,s,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!s?.noResolveJson){const r=e,i=r.status||500;if(typeof r.json=="function")r.json().then(o=>{const a=o?.statusCode||o?.code||i+"";t(new Mn(la(o),i,a,n))}).catch(()=>{if(n==="vectors"){const o=i+"";t(new Mn(r.statusText||`HTTP ${i} error`,i,o,n))}else{const o=i+"";t(new Mn(r.statusText||`HTTP ${i} error`,i,o,n))}});else{const o=i+"";t(new Mn(r.statusText||`HTTP ${i} error`,i,o,n))}}else t(new sc(la(e),e,n))},qf=(e,t,s,n)=>{const r={method:e,headers:t?.headers||{}};return e==="GET"||e==="HEAD"||!n?te(te({},r),s):(Df(n)?(r.headers=te({"Content-Type":"application/json"},t?.headers),r.body=JSON.stringify(n)):r.body=n,t?.duplex&&(r.duplex=t.duplex),te(te({},r),s))};async function Js(e,t,s,n,r,i,o){return new Promise((a,l)=>{e(s,qf(t,n,r,i)).then(c=>{if(!c.ok)throw c;if(n?.noResolveJson)return c;if(o==="vectors"){const u=c.headers.get("content-type");if(c.headers.get("content-length")==="0"||c.status===204)return{};if(!u||!u.includes("application/json"))return{}}return c.json()}).then(c=>a(c)).catch(c=>Ff(c,l,n,o))})}function nc(e="storage"){return{get:async(t,s,n,r)=>Js(t,"GET",s,n,r,void 0,e),post:async(t,s,n,r,i)=>Js(t,"POST",s,r,i,n,e),put:async(t,s,n,r,i)=>Js(t,"PUT",s,r,i,n,e),head:async(t,s,n,r)=>Js(t,"HEAD",s,te(te({},n),{},{noResolveJson:!0}),r,void 0,e),remove:async(t,s,n,r,i)=>Js(t,"DELETE",s,r,i,n,e)}}const Vf=nc("storage"),{get:Sn,post:lt,put:mi,head:Hf,remove:Ki}=Vf,et=nc("vectors");var qs=class{constructor(e,t={},s,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=jf(s),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(kr(s))return{data:null,error:s};throw s}}},Kf=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(kr(t))return{data:null,error:t};throw t}}};let rc;rc=Symbol.toStringTag;var Wf=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[rc]="BlobDownloadBuilder",this.promise=null}asStream(){return new Kf(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(kr(t))return{data:null,error:t};throw t}}};const Gf={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ca={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Jf=class extends qs{constructor(e,t={},s,n){super(e,t,n,"storage"),this.bucketId=s}async uploadOrUpdate(e,t,s,n){var r=this;return r.handleOperation(async()=>{let i;const o=te(te({},ca),n);let a=te(te({},r.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",r.encodeMetadata(l)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",r.encodeMetadata(l))):(i=s,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=r.toBase64(r.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n?.headers&&(a=te(te({},a),n.headers));const c=r._removeEmptyFolders(t),u=r._getFinalPath(c),h=await(e=="PUT"?mi:lt)(r.fetch,`${r.url}/object/${u}`,i,te({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{path:c,id:h.Id,fullPath:h.Key}})}async upload(e,t,s){return this.uploadOrUpdate("POST",e,t,s)}async uploadToSignedUrl(e,t,s,n){var r=this;const i=r._removeEmptyFolders(e),o=r._getFinalPath(i),a=new URL(r.url+`/object/upload/sign/${o}`);return a.searchParams.set("token",t),r.handleOperation(async()=>{let l;const c=te({upsert:ca.upsert},n),u=te(te({},r.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",c.cacheControl)):(l=s,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType),{path:i,fullPath:(await mi(r.fetch,a.toString(),l,{headers:u})).Key}})}async createSignedUploadUrl(e,t){var s=this;return s.handleOperation(async()=>{let n=s._getFinalPath(e);const r=te({},s.headers);t?.upsert&&(r["x-upsert"]="true");const i=await lt(s.fetch,`${s.url}/object/upload/sign/${n}`,{},{headers:r}),o=new URL(s.url+i.url),a=o.searchParams.get("token");if(!a)throw new Er("No token returned by API");return{signedUrl:o.toString(),path:e,token:a}})}async update(e,t,s){return this.uploadOrUpdate("PUT",e,t,s)}async move(e,t,s){var n=this;return n.handleOperation(async()=>await lt(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:n.headers}))}async copy(e,t,s){var n=this;return n.handleOperation(async()=>({path:(await lt(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,s){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e),i=await lt(n.fetch,`${n.url}/object/sign/${r}`,te({expiresIn:t},s?.transform?{transform:s.transform}:{}),{headers:n.headers});const o=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)}})}async createSignedUrls(e,t,s){var n=this;return n.handleOperation(async()=>{const r=await lt(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=s?.download?`&download=${s.download===!0?"":s.download}`:"";return r.map(o=>te(te({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null}))})}download(e,t,s){const n=typeof t?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(t?.transform||{}),i=r?`?${r}`:"",o=this._getFinalPath(e),a=()=>Sn(this.fetch,`${this.url}/${n}/${o}${i}`,{headers:this.headers,noResolveJson:!0},s);return new Wf(a,this.shouldThrowOnError)}async info(e){var t=this;const s=t._getFinalPath(e);return t.handleOperation(async()=>vi(await Sn(t.fetch,`${t.url}/object/info/${s}`,{headers:t.headers})))}async exists(e){var t=this;const s=t._getFinalPath(e);try{return await Hf(t.fetch,`${t.url}/object/${s}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(kr(n)&&n instanceof sc){const r=n.originalError;if([400,404].includes(r?.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const s=this._getFinalPath(e),n=[],r=t?.download?`download=${t.download===!0?"":t.download}`:"";r!==""&&n.push(r);const i=typeof t?.transform<"u"?"render/image":"object",o=this.transformOptsToQueryString(t?.transform||{});o!==""&&n.push(o);let a=n.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${s}${a}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await Ki(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,s){var n=this;return n.handleOperation(async()=>{const r=te(te(te({},Gf),t),{},{prefix:e||""});return await lt(n.fetch,`${n.url}/object/list/${n.bucketId}`,r,{headers:n.headers},s)})}async listV2(e,t){var s=this;return s.handleOperation(async()=>{const n=te({},e);return await lt(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,n,{headers:s.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const zf="2.95.3",Pn={"X-Client-Info":`storage-js/${zf}`};var Yf=class extends qs{constructor(e,t={},s,n){const r=new URL(e);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(r.hostname)&&!r.hostname.includes("storage.supabase.")&&(r.hostname=r.hostname.replace("supabase.","storage.supabase."));const i=r.href.replace(/\/$/,""),o=te(te({},Pn),t);super(i,o,s,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const s=t.listBucketOptionsToQueryString(e);return await Sn(t.fetch,`${t.url}/bucket${s}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Sn(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var s=this;return s.handleOperation(async()=>await lt(s.fetch,`${s.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:s.headers}))}async updateBucket(e,t){var s=this;return s.handleOperation(async()=>await mi(s.fetch,`${s.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:s.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await lt(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Ki(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Qf=class extends qs{constructor(e,t={},s){const n=e.replace(/\/$/,""),r=te(te({},Pn),t);super(n,r,s,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await lt(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const s=new URLSearchParams;e?.limit!==void 0&&s.set("limit",e.limit.toString()),e?.offset!==void 0&&s.set("offset",e.offset.toString()),e?.sortColumn&&s.set("sortColumn",e.sortColumn),e?.sortOrder&&s.set("sortOrder",e.sortOrder),e?.search&&s.set("search",e.search);const n=s.toString(),r=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await Sn(t.fetch,r,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Ki(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!Lf(e))throw new Er("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new Nf({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(s,{get(r,i){const o=r[i];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(r,a),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}},Xf=class extends qs{constructor(e,t={},s){const n=e.replace(/\/$/,""),r=te(te({},Pn),{},{"Content-Type":"application/json"},t);super(n,r,s,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await et.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var s=this;return s.handleOperation(async()=>await et.post(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:s.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await et.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var s=this;return s.handleOperation(async()=>await et.post(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:s.headers})||{})}},Zf=class extends qs{constructor(e,t={},s){const n=e.replace(/\/$/,""),r=te(te({},Pn),{},{"Content-Type":"application/json"},t);super(n,r,s,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await et.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await et.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await et.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await et.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await et.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},ep=class extends qs{constructor(e,t={},s){const n=e.replace(/\/$/,""),r=te(te({},Pn),{},{"Content-Type":"application/json"},t);super(n,r,s,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await et.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await et.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await et.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await et.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},tp=class extends ep{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new sp(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,s=this;return t().call(s,e)}async getBucket(e){var t=()=>super.getBucket,s=this;return t().call(s,e)}async listBuckets(e={}){var t=()=>super.listBuckets,s=this;return t().call(s,e)}async deleteBucket(e){var t=()=>super.deleteBucket,s=this;return t().call(s,e)}},sp=class extends Xf{constructor(e,t,s,n){super(e,t,n),this.vectorBucketName=s}async createIndex(e){var t=()=>super.createIndex,s=this;return t().call(s,te(te({},e),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,s=this;return t().call(s,te(te({},e),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,s=this;return t().call(s,s.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,s=this;return t().call(s,s.vectorBucketName,e)}index(e){return new np(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},np=class extends Zf{constructor(e,t,s,n,r){super(e,t,r),this.vectorBucketName=s,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,s=this;return t().call(s,te(te({},e),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(e){var t=()=>super.getVectors,s=this;return t().call(s,te(te({},e),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,s=this;return t().call(s,te(te({},e),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,s=this;return t().call(s,te(te({},e),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,s=this;return t().call(s,te(te({},e),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},rp=class extends Yf{constructor(e,t={},s,n){super(e,t,s,n)}from(e){return new Jf(this.url,this.headers,e,this.fetch)}get vectors(){return new tp(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Qf(this.url+"/iceberg",this.headers,this.fetch)}};const ic="2.95.3",Rs=30*1e3,yi=3,Vr=yi*Rs,ip="http://localhost:9999",op="supabase.auth.token",ap={"X-Client-Info":`gotrue-js/${ic}`},_i="X-Supabase-Api-Version",oc={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},lp=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,cp=600*1e3;class En extends Error{constructor(t,s,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=n}}function J(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class up extends En{constructor(t,s,n){super(t,s,n),this.name="AuthApiError",this.status=s,this.code=n}}function hp(e){return J(e)&&e.name==="AuthApiError"}class ds extends En{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class Ft extends En{constructor(t,s,n,r){super(t,n,r),this.name=s,this.status=n}}class Xe extends Ft{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Hr(e){return J(e)&&e.name==="AuthSessionMissingError"}class ws extends Ft{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Bn extends Ft{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Fn extends Ft{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function dp(e){return J(e)&&e.name==="AuthImplicitGrantRedirectError"}class ua extends Ft{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class fp extends Ft{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class wi extends Ft{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function Kr(e){return J(e)&&e.name==="AuthRetryableFetchError"}class ha extends Ft{constructor(t,s,n){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=n}}class bi extends Ft{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const rr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),da=` 	
\r=`.split(""),pp=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<da.length;t+=1)e[da[t].charCodeAt(0)]=-2;for(let t=0;t<rr.length;t+=1)e[rr[t].charCodeAt(0)]=t;return e})();function fa(e,t,s){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;s(rr[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;s(rr[n]),t.queuedBits-=6}}function ac(e,t,s){const n=pp[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function pa(e){const t=[],s=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},i=o=>{mp(o,n,s)};for(let o=0;o<e.length;o+=1)ac(e.charCodeAt(o),r,i);return t.join("")}function gp(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function vp(e,t){for(let s=0;s<e.length;s+=1){let n=e.charCodeAt(s);if(n>55295&&n<=56319){const r=(n-55296)*1024&65535;n=(e.charCodeAt(s+1)-56320&65535|r)+65536,s+=1}gp(n,t)}}function mp(e,t,s){if(t.utf8seq===0){if(e<=127){s(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function Ds(e){const t=[],s={queue:0,queuedBits:0},n=r=>{t.push(r)};for(let r=0;r<e.length;r+=1)ac(e.charCodeAt(r),s,n);return new Uint8Array(t)}function yp(e){const t=[];return vp(e,s=>t.push(s)),new Uint8Array(t)}function ps(e){const t=[],s={queue:0,queuedBits:0},n=r=>{t.push(r)};return e.forEach(r=>fa(r,s,n)),fa(null,s,n),t.join("")}function _p(e){return Math.round(Date.now()/1e3)+e}function wp(){return Symbol("auth-callback")}const De=()=>typeof window<"u"&&typeof document<"u",is={tested:!1,writable:!1},lc=()=>{if(!De())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(is.tested)return is.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),is.tested=!0,is.writable=!0}catch{is.tested=!0,is.writable=!1}return is.writable};function bp(e){const t={},s=new URL(e);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((r,i)=>{t[i]=r})}catch{}return s.searchParams.forEach((n,r)=>{t[r]=n}),t}const cc=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Sp=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Os=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},os=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},je=async(e,t)=>{await e.removeItem(t)};class Tr{constructor(){this.promise=new Tr.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}Tr.promiseConstructor=Promise;function qn(e){const t=e.split(".");if(t.length!==3)throw new bi("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!lp.test(t[n]))throw new bi("JWT not in base64url format");return{header:JSON.parse(pa(t[0])),payload:JSON.parse(pa(t[1])),signature:Ds(t[2]),raw:{header:t[0],payload:t[1]}}}async function Ep(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function kp(e,t){return new Promise((n,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){r(o);return}}})()})}function Tp(e){return("0"+e.toString(16)).substr(-2)}function Ap(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=s.length;let r="";for(let i=0;i<56;i++)r+=s.charAt(Math.floor(Math.random()*n));return r}return crypto.getRandomValues(t),Array.from(t,Tp).join("")}async function Cp(e){const s=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",s),r=new Uint8Array(n);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}async function Rp(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const s=await Cp(e);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function bs(e,t,s=!1){const n=Ap();let r=n;s&&(r+="/PASSWORD_RECOVERY"),await Os(e,`${t}-code-verifier`,r);const i=await Rp(n);return[i,n===i?"plain":"s256"]}const Op=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function xp(e){const t=e.headers.get(_i);if(!t||!t.match(Op))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Pp(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Ip(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const $p=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ss(e){if(!$p.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Wr(){const e={};return new Proxy(e,{get:(t,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const n=s.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Np(e,t){return new Proxy(e,{get:(s,n,r)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,n,r)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(s,n,r)}})}function ga(e){return JSON.parse(JSON.stringify(e))}const ls=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),jp=[502,503,504];async function va(e){var t;if(!Sp(e))throw new wi(ls(e),0);if(jp.includes(e.status))throw new wi(ls(e),e.status);let s;try{s=await e.json()}catch(i){throw new ds(ls(i),i)}let n;const r=xp(e);if(r&&r.getTime()>=oc["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?n=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(n=s.error_code),n){if(n==="weak_password")throw new ha(ls(s),e.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Xe}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new ha(ls(s),e.status,s.weak_password.reasons);throw new up(ls(s),e.status||500,n)}const Dp=(e,t,s,n)=>{const r={method:e,headers:t?.headers||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),r.body=JSON.stringify(n),Object.assign(Object.assign({},r),s))};async function ee(e,t,s,n){var r;const i=Object.assign({},n?.headers);i[_i]||(i[_i]=oc["2024-01-01"].name),n?.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(r=n?.query)!==null&&r!==void 0?r:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Lp(e,t,s+a,{headers:i,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(l):{data:Object.assign({},l),error:null}}async function Lp(e,t,s,n,r,i){const o=Dp(t,n,r,i);let a;try{a=await e(s,Object.assign({},o))}catch(l){throw console.error(l),new wi(ls(l),0)}if(a.ok||await va(a),n?.noResolveJson)return a;try{return await a.json()}catch(l){await va(l)}}function at(e){var t;let s=null;Bp(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=_p(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:s,user:n},error:null}}function ma(e){const t=at(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((s,n)=>s&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Qt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Up(e){return{data:e,error:null}}function Mp(e){const{action_link:t,email_otp:s,hashed_token:n,redirect_to:r,verification_type:i}=e,o=Sr(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:s,hashed_token:n,redirect_to:r,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function ya(e){return e}function Bp(e){return e.access_token&&e.refresh_token&&e.expires_in}const Gr=["global","local","others"];class Fp{constructor({url:t="",headers:s={},fetch:n}){this.url=t,this.headers=s,this.fetch=cc(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,s=Gr[0]){if(Gr.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Gr.join(", ")}`);try{return await ee(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,s={}){try{return await ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Qt})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:s}=t,n=Sr(t,["options"]),r=Object.assign(Object.assign({},n),s);return"newEmail"in n&&(r.new_email=n?.newEmail,delete r.newEmail),await ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:Mp,redirectTo:s?.redirectTo})}catch(s){if(J(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await ee(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Qt})}catch(s){if(J(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,n,r,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=t?.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(i=(r=t?.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:ya});if(u.error)throw u.error;const h=await u.json(),d=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(v=>{const _=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(v.split(";")[1].split("=")[1]);c[`${A}Page`]=_}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(J(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Ss(t);try{return await ee(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Qt})}catch(s){if(J(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){Ss(t);try{return await ee(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:Qt})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,s=!1){Ss(t);try{return await ee(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:Qt})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ss(t.userId);try{const{data:s,error:n}=await ee(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:s,error:n}}catch(s){if(J(s))return{data:null,error:s};throw s}}async _deleteFactor(t){Ss(t.userId),Ss(t.id);try{return{data:await ee(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(J(s))return{data:null,error:s};throw s}}async _listOAuthClients(t){var s,n,r,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await ee(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=t?.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(i=(r=t?.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:ya});if(u.error)throw u.error;const h=await u.json(),d=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(v=>{const _=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(v.split(";")[1].split("=")[1]);c[`${A}Page`]=_}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(J(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await ee(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(J(s))return{data:null,error:s};throw s}}async _getOAuthClient(t){try{return await ee(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(J(s))return{data:null,error:s};throw s}}async _updateOAuthClient(t,s){try{return await ee(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:s,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await ee(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(J(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(t){try{return await ee(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(J(s))return{data:null,error:s};throw s}}}function _a(e={}){return{getItem:t=>e[t]||null,setItem:(t,s)=>{e[t]=s},removeItem:t=>{delete e[t]}}}const Es={debug:!!(globalThis&&lc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class uc extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class qp extends uc{}async function Vp(e,t,s){Es.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Es.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async r=>{if(r){Es.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await s()}finally{Es.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}else{if(t===0)throw Es.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new qp(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Es.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function Hp(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function hc(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Kp(e){return parseInt(e,16)}function Wp(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function Gp(e){var t;const{chainId:s,domain:n,expirationTime:r,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:u,uri:h,version:d}=e;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(d!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=hc(e.address),v=u?`${u}://${n}`:n,_=e.statement?`${e.statement}
`:"",A=`${v} wants you to sign in with your Ethereum account:
${f}

${_}`;let k=`URI: ${h}
Version: ${d}
Chain ID: ${s}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(r&&(k+=`
Expiration Time: ${r.toISOString()}`),a&&(k+=`
Not Before: ${a.toISOString()}`),l&&(k+=`
Request ID: ${l}`),c){let b=`
Resources:`;for(const w of c){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);b+=`
- ${w}`}k+=b}return`${A}
${k}`}class Re extends Error{constructor({message:t,code:s,cause:n,name:r}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=r??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=s}}class ir extends Re{constructor(t,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:t}),this.name="WebAuthnUnknownError",this.originalError=s}}function Jp({error:e,options:t}){var s,n,r;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Re({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new Re({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Re({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Re({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Re({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Re({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Re({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Re({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(dc(o)){if(i.rp.id!==o)return new Re({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Re({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Re({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Re({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Re({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function zp({error:e,options:t}){const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Re({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Re({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(dc(n)){if(s.rpId!==n)return new Re({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Re({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Re({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Re({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Yp{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Qp=new Yp;function Xp(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:s,excludeCredentials:n}=e,r=Sr(e,["challenge","user","excludeCredentials"]),i=Ds(t).buffer,o=Object.assign(Object.assign({},s),{id:Ds(s.id).buffer}),a=Object.assign(Object.assign({},r),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Ds(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function Zp(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:s}=e,n=Sr(e,["challenge","allowCredentials"]),r=Ds(t).buffer,i=Object.assign(Object.assign({},n),{challenge:r});if(s&&s.length>0){i.allowCredentials=new Array(s.length);for(let o=0;o<s.length;o++){const a=s[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Ds(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function eg(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const s=e;return{id:e.id,rawId:e.id,response:{attestationObject:ps(new Uint8Array(e.response.attestationObject)),clientDataJSON:ps(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function tg(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const s=e,n=e.getClientExtensionResults(),r=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ps(new Uint8Array(r.authenticatorData)),clientDataJSON:ps(new Uint8Array(r.clientDataJSON)),signature:ps(new Uint8Array(r.signature)),userHandle:r.userHandle?ps(new Uint8Array(r.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function dc(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function wa(){var e,t;return!!(De()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function sg(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ir("Browser returned unexpected credential type",t)}:{data:null,error:new ir("Empty credential response",t)}}catch(t){return{data:null,error:Jp({error:t,options:e})}}}async function ng(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ir("Browser returned unexpected credential type",t)}:{data:null,error:new ir("Empty credential response",t)}}catch(t){return{data:null,error:zp({error:t,options:e})}}}const rg={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},ig={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function or(...e){const t=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),s=r=>r instanceof ArrayBuffer||ArrayBuffer.isView(r),n={};for(const r of e)if(r)for(const i in r){const o=r[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(s(o))n[i]=o;else if(t(o)){const a=n[i];t(a)?n[i]=or(a,o):n[i]=or(o)}else n[i]=o}return n}function og(e,t){return or(rg,e,t||{})}function ag(e,t){return or(ig,e,t||{})}class lg{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:s,friendlyName:n,signal:r},i){var o;try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:s});if(!a)return{data:null,error:l};const c=r??Qp.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;if(!u.name){const h=n;if(h)u.name=`${u.id}:${h}`;else{const f=(await this.client.getUser()).data.user,v=((o=f?.user_metadata)===null||o===void 0?void 0:o.name)||f?.email||f?.id||"User";u.name=`${u.id}:${v}`}}u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=og(a.webauthn.credential_options.publicKey,i?.create),{data:h,error:d}=await sg({publicKey:u,signal:c});return h?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:d}}case"request":{const u=ag(a.webauthn.credential_options.publicKey,i?.request),{data:h,error:d}=await ng(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:c}));return h?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:d}}}}catch(a){return J(a)?{data:null,error:a}:{data:null,error:new ds("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:s,webauthn:n}){return this.client.mfa.verify({factorId:s,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:r}={}},i){if(!s)return{data:null,error:new En("rpId is required for WebAuthn authentication")};try{if(!wa())return{data:null,error:new ds("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:s,rpOrigins:n},signal:r},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:s,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return J(o)?{data:null,error:o}:{data:null,error:new ds("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:r}={}},i){if(!s)return{data:null,error:new En("rpId is required for WebAuthn registration")};try{if(!wa())return{data:null,error:new ds("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(d=>d.factor_type==="webauthn"&&d.friendly_name===t&&d.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u?.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:s,rpOrigins:n},signal:r},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:s,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return J(o)?{data:null,error:o}:{data:null,error:new ds("Unexpected error in register",o)}}}}Hp();const cg={url:ip,storageKey:op,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ap,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function ba(e,t,s){return await s()}const ks={};class kn{get jwks(){var t,s;return(s=(t=ks[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(t){ks[this.storageKey]=Object.assign(Object.assign({},ks[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,s;return(s=(t=ks[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ks[this.storageKey]=Object.assign(Object.assign({},ks[this.storageKey]),{cachedAt:t})}constructor(t){var s,n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},cg),t);if(this.storageKey=i.storageKey,this.instanceID=(s=kn.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,kn.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&De()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Fp({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=cc(i.fetch),this.lock=i.lock||ba,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&De()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=Vp:this.lock=ba,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new lg(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:lc()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_a(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=_a(this.memoryStorage)),De()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(a){this._debug("#broadcastChannel","error",a)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ic}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let s={},n="none";if(De()&&(s=bp(window.location.href),this._isImplicitGrantCallback(s)?n="implicit":await this._isPKCECallback(s)&&(n="pkce")),De()&&this.detectSessionInUrl&&n!=="none"){const{data:r,error:i}=await this._getSessionFromURL(s,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),dp(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return J(s)?this._returnResult({error:s}):this._returnResult({error:new ds("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,n,r;try{const i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(s=t?.options)===null||s===void 0?void 0:s.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(r=t?.options)===null||r===void 0?void 0:r.captchaToken}},xform:at}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(J(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var s,n,r;try{let i;if("email"in t){const{email:u,password:h,options:d}=t;let f=null,v=null;this.flowType==="pkce"&&([f,v]=await bs(this.storage,this.storageKey)),i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d?.emailRedirectTo,body:{email:u,password:h,data:(s=d?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:v},xform:at})}else if("phone"in t){const{phone:u,password:h,options:d}=t;i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=d?.data)!==null&&n!==void 0?n:{},channel:(r=d?.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:at})}else throw new Bn("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await je(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(await je(this.storage,`${this.storageKey}-code-verifier`),J(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let s;if("email"in t){const{email:i,password:o,options:a}=t;s=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:ma})}else if("phone"in t){const{phone:i,password:o,options:a}=t;s=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:ma})}else throw new Bn("You must provide either an email or phone number and a password");const{data:n,error:r}=s;if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!n||!n.session||!n.user){const i=new ws;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(s){if(J(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(t){var s,n,r,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(r=t.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;switch(s){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(t){var s,n,r,i,o,a,l,c,u,h,d;let f,v;if("message"in t)f=t.message,v=t.signature;else{const{chain:_,wallet:A,statement:k,options:b}=t;let w;if(De())if(typeof A=="object")w=A;else{const Y=window;if("ethereum"in Y&&typeof Y.ethereum=="object"&&"request"in Y.ethereum&&typeof Y.ethereum.request=="function")w=Y.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!b?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=A}const C=new URL((s=b?.url)!==null&&s!==void 0?s:window.location.href),H=await w.request({method:"eth_requestAccounts"}).then(Y=>Y).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!H||H.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const q=hc(H[0]);let z=(n=b?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!z){const Y=await w.request({method:"eth_chainId"});z=Kp(Y)}const ve={domain:C.host,address:q,statement:k,uri:C.href,version:"1",chainId:z,nonce:(r=b?.signInWithEthereum)===null||r===void 0?void 0:r.nonce,issuedAt:(o=(i=b?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=b?.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=b?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=b?.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=b?.signInWithEthereum)===null||u===void 0?void 0:u.resources};f=Gp(ve),v=await w.request({method:"personal_sign",params:[Wp(f),q]})}try{const{data:_,error:A}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:v},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(d=t.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:at});if(A)throw A;if(!_||!_.session||!_.user){const k=new ws;return this._returnResult({data:{user:null,session:null},error:k})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:A})}catch(_){if(J(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(t){var s,n,r,i,o,a,l,c,u,h,d,f;let v,_;if("message"in t)v=t.message,_=t.signature;else{const{chain:A,wallet:k,statement:b,options:w}=t;let C;if(De())if(typeof k=="object")C=k;else{const q=window;if("solana"in q&&typeof q.solana=="object"&&("signIn"in q.solana&&typeof q.solana.signIn=="function"||"signMessage"in q.solana&&typeof q.solana.signMessage=="function"))C=q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!w?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=k}const H=new URL((s=w?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in C&&C.signIn){const q=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w?.signInWithSolana),{version:"1",domain:H.host,uri:H.href}),b?{statement:b}:null));let z;if(Array.isArray(q)&&q[0]&&typeof q[0]=="object")z=q[0];else if(q&&typeof q=="object"&&"signedMessage"in q&&"signature"in q)z=q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in z&&"signature"in z&&(typeof z.signedMessage=="string"||z.signedMessage instanceof Uint8Array)&&z.signature instanceof Uint8Array)v=typeof z.signedMessage=="string"?z.signedMessage:new TextDecoder().decode(z.signedMessage),_=z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${H.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${H.href}`,`Issued At: ${(r=(n=w?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((i=w?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((a=w?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((c=w?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(u=w?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(z=>`- ${z}`)]:[]].join(`
`);const q=await C.signMessage(new TextEncoder().encode(v),"utf8");if(!q||!(q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=q}}try{const{data:A,error:k}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:ps(_)},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:at});if(k)throw k;if(!A||!A.session||!A.user){const b=new ws;return this._returnResult({data:{user:null,session:null},error:b})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:k})}catch(A){if(J(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async _exchangeCodeForSession(t){const s=await os(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(s??"").split("/");try{if(!n&&this.flowType==="pkce")throw new fp;const{data:i,error:o}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:at});if(await je(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new ws;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:o})}catch(i){if(await je(this.storage,`${this.storageKey}-code-verifier`),J(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:s,provider:n,token:r,access_token:i,nonce:o}=t,a=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:at}),{data:l,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new ws;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(s){if(J(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(t){var s,n,r,i,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await bs(this.storage,this.storageKey));const{error:h}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l?.data)!==null&&s!==void 0?s:{},create_user:(n=l?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:u})}throw new Bn("You must provide either an email or phone number.")}catch(a){if(await je(this.storage,`${this.storageKey}-code-verifier`),J(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var s,n;try{let r,i;"options"in t&&(r=(s=t.options)===null||s===void 0?void 0:s.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:at});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(r){if(J(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithSSO(t){var s,n,r,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await bs(this.storage,this.storageKey));const c=await ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&n!==void 0?n:void 0}),!((r=t?.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:Up});return!((i=c.data)===null||i===void 0)&&i.url&&De()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(a){if(await je(this.storage,`${this.storageKey}-code-verifier`),J(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:n}=t;if(n)throw n;if(!s)throw new Xe;const{error:r}=await ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:r})})}catch(t){if(J(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:n,type:r,options:i}=t,{error:o}=await ee(this.fetch,"POST",s,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:r,options:i}=t,{data:o,error:a}=await ee(this.fetch,"POST",s,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:a})}throw new Bn("You must provide either an email or phone number and a type")}catch(s){if(J(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await n,await s()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=s();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await os(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Vr:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await os(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=Wr()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=Np(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:r,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:r},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(t){try{return t?await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Qt}):await this._useSession(async s=>{var n,r,i;const{data:o,error:a}=s;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xe}:await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:Qt})})}catch(s){if(J(s))return Hr(s)&&(await this._removeSession(),await je(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async n=>{const{data:r,error:i}=n;if(i)throw i;if(!r.session)throw new Xe;const o=r.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await bs(this.storage,this.storageKey));const{data:c,error:u}=await ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Qt});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await je(this.storage,`${this.storageKey}-code-verifier`),J(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Xe;const s=Date.now()/1e3;let n=s,r=!0,i=null;const{payload:o}=qn(t.access_token);if(o.exp&&(n=o.exp,r=n<=s),r){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-s,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(s){if(J(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var n;if(!t){const{data:o,error:a}=s;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new Xe;const{data:r,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):r?this._returnResult({data:{user:r.user,session:r},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(J(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(t,s){try{if(!De())throw new Fn("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Fn(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new ua("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fn("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ua("No code detected.");const{data:b,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!i||!a||!o||!c)throw new Fn("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let d=u+h;l&&(d=parseInt(l));const f=d-u;f*1e3<=Rs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const v=d-h;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,d,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,d,u);const{data:_,error:A}=await this._getUser(i);if(A)throw A;const k={provider_token:n,provider_refresh_token:r,access_token:i,expires_in:h,expires_at:d,refresh_token:o,token_type:c,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:t.type},error:null})}catch(n){if(J(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await os(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i&&!Hr(i))return this._returnResult({error:i});const o=(n=r.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(hp(a)&&(a.status===404||a.status===401||a.status===403)||Hr(a)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await je(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const s=wp(),n={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async s=>{var n,r;try{const{data:{session:i},error:o}=s;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,s={}){let n=null,r=null;this.flowType==="pkce"&&([n,r]=await bs(this.storage,this.storageKey,!0));try{return await ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(await je(this.storage,`${this.storageKey}-code-verifier`),J(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:s,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(s){if(J(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var s;try{const{data:n,error:r}=await this._useSession(async i=>{var o,a,l,c,u;const{data:h,error:d}=i;if(d)throw d;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ee(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(r)throw r;return De()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:t.provider,url:n?.url},error:null})}catch(n){if(J(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async s=>{var n;try{const{error:r,data:{session:i}}=s;if(r)throw r;const{options:o,provider:a,token:l,access_token:c,nonce:u}=t,h=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:at}),{data:d,error:f}=h;return f?this._returnResult({data:{user:null,session:null},error:f}):!d||!d.session||!d.user?this._returnResult({data:{user:null,session:null},error:new ws}):(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),this._returnResult({data:d,error:f}))}catch(r){if(await je(this.storage,`${this.storageKey}-code-verifier`),J(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}async unlinkIdentity(t){try{return await this._useSession(async s=>{var n,r;const{data:i,error:o}=s;if(o)throw o;return await ee(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(r=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:void 0})})}catch(s){if(J(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const n=Date.now();return await kp(async r=>(r>0&&await Ep(200*Math.pow(2,r-1)),this._debug(s,"refreshing attempt",r),await ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:at})),(r,i)=>{const o=200*Math.pow(2,r);return i&&Kr(i)&&Date.now()+o-n<Rs})}catch(n){if(this._debug(s,"error",n),J(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",n),De()&&!s.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,s;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await os(this.storage,this.storageKey);if(r&&this.userStorage){let o=await os(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:r.user},await Os(this.userStorage,this.storageKey+"-user",o)),r.user=(t=o?.user)!==null&&t!==void 0?t:Wr()}else if(r&&!r.user&&!r.user){const o=await os(this.storage,this.storageKey+"-user");o&&o?.user?(r.user=o.user,await je(this.storage,this.storageKey+"-user"),await Os(this.storage,this.storageKey,r)):r.user=Wr()}if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=((s=r.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Vr;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Vr}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Kr(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(r.access_token);!a&&o?.user?(r.user=o.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var s,n;if(!t)throw new Xe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Tr;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Xe;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(r,"error",i),J(i)){const o={data:null,error:i};return Kr(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(t,s,n=!0){const r=`#_notifyAllSubscribers(${t})`;this._debug(r,"begin",s,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await je(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},t),n=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&s.user&&await Os(this.userStorage,this.storageKey+"-user",{user:s.user});const r=Object.assign({},s);delete r.user;const i=ga(r);await Os(this.storage,this.storageKey,i)}else{const r=ga(s);await Os(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await je(this.storage,this.storageKey),await je(this.storage,this.storageKey+"-code-verifier"),await je(this.storage,this.storageKey+"-user"),this.userStorage&&await je(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&De()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Rs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:n}}=s;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((n.expires_at*1e3-t)/Rs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${Rs}ms, refresh threshold is ${yi} ticks`),r<=yi&&await this._callRefreshToken(n.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof uc)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!De()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,n){const r=[`provider=${encodeURIComponent(s)}`];if(n?.redirectTo&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await bs(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(a.toString())}if(n?.queryParams){const i=new URLSearchParams(n.queryParams);r.push(i.toString())}return n?.skipBrowserRedirect&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${r.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;return i?this._returnResult({data:null,error:i}):await ee(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=r?.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(J(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(t){try{return await this._useSession(async s=>{var n,r;const{data:i,error:o}=s;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await ee(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&l.type==="totp"&&(!((r=l?.totp)===null||r===void 0)&&r.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(s){if(J(s))return this._returnResult({data:null,error:s});throw s}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?eg(t.webauthn.credential_response):tg(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=r?.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(s){if(J(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return this._returnResult({data:null,error:i});const o=await ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=r?.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Xp(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Zp(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(J(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(t){const{data:s,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){var t;const{data:{user:s},error:n}=await this.getUser();if(n)return{data:null,error:n};const r={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=s?.factors)!==null&&t!==void 0?t:[])r.all.push(i),i.status==="verified"&&r[i.factor_type].push(i);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(t){var s,n,r,i;if(t)try{const{payload:f}=qn(t);let v=null;f.aal&&(v=f.aal);let _=v;const{data:{user:A},error:k}=await this.getUser(t);if(k)return this._returnResult({data:null,error:k});((n=(s=A?.factors)===null||s===void 0?void 0:s.filter(C=>C.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(_="aal2");const w=f.amr||[];return{data:{currentLevel:v,nextLevel:_,currentAuthenticationMethods:w},error:null}}catch(f){if(J(f))return this._returnResult({data:null,error:f});throw f}const{data:{session:o},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=qn(o.access_token);let c=null;l.aal&&(c=l.aal);let u=c;((i=(r=o.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(u="aal2");const d=l.amr||[];return{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async s=>{const{data:{session:n},error:r}=s;return r?this._returnResult({data:null,error:r}):n?await ee(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Xe})})}catch(s){if(J(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(t,s){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!r)return this._returnResult({data:null,error:new Xe});const o=await ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&De()&&!s?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(J(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,s){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!r)return this._returnResult({data:null,error:new Xe});const o=await ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&De()&&!s?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(J(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:s},error:n}=t;return n?this._returnResult({data:null,error:n}):s?await ee(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:r=>({data:r,error:null})}):this._returnResult({data:null,error:new Xe})})}catch(t){if(J(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async s=>{const{data:{session:n},error:r}=s;return r?this._returnResult({data:null,error:r}):n?(await ee(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Xe})})}catch(s){if(J(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(t,s={keys:[]}){let n=s.keys.find(a=>a.kid===t);if(n)return n;const r=Date.now();if(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+cp>r)return n;const{data:i,error:o}=await ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=r,n=i.keys.find(a=>a.kid===t),!n)?null:n}async getClaims(t,s={}){try{let n=t;if(!n){const{data:f,error:v}=await this.getSession();if(v||!f.session)return this._returnResult({data:null,error:v});n=f.session.access_token}const{header:r,payload:i,signature:o,raw:{header:a,payload:l}}=qn(n);s?.allowExpired||Pp(i.exp);const c=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!c){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:i,header:r,signature:o},error:null}}const u=Ip(r.alg),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,yp(`${a}.${l}`)))throw new bi("Invalid JWT signature");return{data:{claims:i,header:r,signature:o},error:null}}catch(n){if(J(n))return this._returnResult({data:null,error:n});throw n}}}kn.nextInstanceID={};const ug=kn,hg="2.95.3";let Ys="";typeof Deno<"u"?Ys="deno":typeof document<"u"?Ys="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ys="react-native":Ys="node";const dg={"X-Client-Info":`supabase-js-${Ys}/${hg}`},fg={headers:dg},pg={schema:"public"},gg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},vg={};function Tn(e){"@babel/helpers - typeof";return Tn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tn(e)}function mg(e,t){if(Tn(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,t);if(Tn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yg(e){var t=mg(e,"string");return Tn(t)=="symbol"?t:t+""}function _g(e,t,s){return(t=yg(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Sa(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,n)}return s}function Te(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Sa(Object(s),!0).forEach(function(n){_g(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Sa(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}const wg=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),bg=()=>Headers,Sg=(e,t,s)=>{const n=wg(s),r=bg();return async(i,o)=>{var a;const l=(a=await t())!==null&&a!==void 0?a:e;let c=new r(o?.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Te(Te({},o),{},{headers:c}))}};function Eg(e){return e.endsWith("/")?e:e+"/"}function kg(e,t){var s,n;const{db:r,auth:i,realtime:o,global:a}=e,{db:l,auth:c,realtime:u,global:h}=t,d={db:Te(Te({},l),r),auth:Te(Te({},c),i),realtime:Te(Te({},u),o),storage:{},global:Te(Te(Te({},h),a),{},{headers:Te(Te({},(s=h?.headers)!==null&&s!==void 0?s:{}),(n=a?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}function Tg(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Eg(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Ag=class extends ug{constructor(e){super(e)}},Cg=class{constructor(e,t,s){var n,r;this.supabaseUrl=e,this.supabaseKey=t;const i=Tg(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:pg,realtime:vg,auth:Te(Te({},gg),{},{storageKey:o}),global:fg},l=kg(s??{},a);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(r=l.global.headers)!==null&&r!==void 0?r:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(u,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=Sg(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Te({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new hf(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch,timeout:l.db.timeout,urlLengthLimit:l.db.urlLengthLimit}),this.storage=new rp(this.storageUrl.href,this.headers,this.fetch,s?.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new sf(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,s)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,s;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(s=n.session)===null||s===void 0?void 0:s.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:n,userStorage:r,storageKey:i,flowType:o,lock:a,debug:l,throwOnError:c},u,h){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ag({url:this.authUrl.href,headers:Te(Te({},d),u),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:n,userStorage:r,flowType:o,lock:a,debug:l,throwOnError:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Rf(this.realtimeUrl.href,Te(Te({},e),{},{params:Te(Te({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Rg=(e,t,s)=>new Cg(e,t,s);function Og(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const s=t.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}Og()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const xg="https://twpnvtckwnymrncmexzv.supabase.co",Pg="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR3cG52dGNrd255bXJuY21leHp2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA0MjYzMTcsImV4cCI6MjA4NjAwMjMxN30.ouOmFDYFAfPjI39e0sNwLVM8n9CTV3m0SLObZeKm8S0",oe=Rg(xg,Pg),Vs=(e,t)=>{const s=e.__vccOpts||e;for(const[n,r]of t)s[n]=r;return s},Ig={class:"sidebar-nav"},$g={class:"sidebar-footer"},Ng=["title"],jg={class:"nav-label"},Dg={key:0,class:"profile-menu"},Lg={class:"sidebar-toggle"},Ug=["title"],Mg={class:"toggle-icon"},Bg={key:0,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},Fg={key:1,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},qg={class:"toggle-label"},Vg={__name:"LeftSidebar",setup(e){const t=xn(),s=re(!1),n=re(""),r=()=>{s.value=!s.value},i=()=>{s.value=!1,t.push("/profile")},o=async()=>{await oe.auth.signOut(),t.push("/login")},a=re("hover");Mt(async()=>{const c=localStorage.getItem("sidebarMode")||"hover";a.value=c;const{data:{user:u}}=await oe.auth.getUser();u&&(n.value=u.user_metadata?.full_name||u.email?.split("@")[0]||"User")});const l=()=>{a.value=a.value==="hover"?"collapsed":"hover",localStorage.setItem("sidebarMode",a.value)};return(c,u)=>{const h=dl("router-link");return M(),F("aside",{class:Ae(["sidebar",`sidebar-${a.value}`])},[y("nav",Ig,[Oe(h,{to:"/",class:"nav-item",title:"Home"},{default:en(()=>[...u[0]||(u[0]=[y("span",{class:"nav-icon"},[y("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[y("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),y("polyline",{points:"9 22 9 12 15 12 15 22"})])],-1),y("span",{class:"nav-label"},"Home",-1)])]),_:1}),Oe(h,{to:"/todos",class:"nav-item",title:"Notes"},{default:en(()=>[...u[1]||(u[1]=[y("span",{class:"nav-icon"},[y("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[y("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",ry:"2"}),y("line",{x1:"8",y1:"6",x2:"16",y2:"6"}),y("line",{x1:"8",y1:"10",x2:"16",y2:"10"}),y("line",{x1:"8",y1:"14",x2:"13",y2:"14"})])],-1),y("span",{class:"nav-label"},"Notes",-1)])]),_:1}),Oe(h,{to:"/settings",class:"nav-item",title:"Settings"},{default:en(()=>[...u[2]||(u[2]=[y("span",{class:"nav-icon"},[y("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[y("circle",{cx:"12",cy:"12",r:"3"}),y("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})])],-1),y("span",{class:"nav-label"},"Settings",-1)])]),_:1})]),y("div",$g,[y("button",{class:"nav-item profile-item",onClick:r,title:n.value},[u[3]||(u[3]=y("span",{class:"nav-icon"},[y("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[y("path",{d:"M20 21a8 8 0 0 0-16 0"}),y("circle",{cx:"12",cy:"7",r:"4"})])],-1)),y("span",jg,ie(n.value),1)],8,Ng),s.value?(M(),F("div",Dg,[y("button",{onClick:i},"Profile"),y("button",{onClick:o},"Log out")])):ce("",!0)]),y("div",Lg,[y("button",{type:"button",class:"toggle-btn",title:a.value==="hover"?"show only icons":"expandable",onClick:l},[y("span",Mg,[a.value==="hover"?(M(),F("svg",Bg,[...u[4]||(u[4]=[y("polyline",{points:"15 18 9 12 15 6"},null,-1)])])):(M(),F("svg",Fg,[...u[5]||(u[5]=[y("polyline",{points:"9 18 15 12 9 6"},null,-1)])]))]),y("span",qg,ie(a.value==="hover"?"show only icons":"Expand"),1)],8,Ug)])],2)}}},Hg=Vs(Vg,[["__scopeId","data-v-82f876ac"]]),Kg={class:"content"},Wg={__name:"App",setup(e){const t=Xd(),s=Ee(()=>!t.meta.noLayout);return(n,r)=>{const i=dl("router-view");return s.value?(M(),F(ge,{key:1},[Oe(Hg),y("main",Kg,[Oe(i)])],64)):(M(),xl(i,{key:0}))}}},cs=re("system"),Ea=re(!1),fc=()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",Si=e=>{let t=e;e==="system"&&(t=fc()),t==="dark"?document.documentElement.classList.add("dark-mode"):document.documentElement.classList.remove("dark-mode")},pc=()=>{if(Ea.value)return;const e=localStorage.getItem("theme")||"system";cs.value=e,Si(e),Ea.value=!0};function Wi(){return Mt(()=>{pc();const t=localStorage.getItem("theme")||"system";t!==cs.value&&(cs.value=t);const s=window.matchMedia("(prefers-color-scheme: dark)"),n=()=>{cs.value==="system"&&Si("system")};return s.addEventListener("change",n),()=>{s.removeEventListener("change",n)}}),ms(cs,t=>{localStorage.setItem("theme",t),Si(t)}),{selectedTheme:cs,setTheme:t=>{cs.value=t},getSystemTheme:fc}}const Gg={class:"calendar-container"},Jg={class:"calendar"},zg={class:"calendar-header"},Yg={class:"month-year"},Qg={key:0,class:"picker-dropdown month-picker"},Xg={class:"picker-grid"},Zg=["onClick"],ev={key:1,class:"picker-dropdown year-picker"},tv={class:"picker-grid year-grid"},sv=["onClick"],nv={class:"calendar-grid"},rv=["onClick"],iv={key:0,class:"reminder-dots"},ov={class:"event-content"},av={class:"reminder-form"},lv={class:"color-picker"},cv={class:"color-options"},uv=["onClick"],hv={key:0,class:"repeat-selector"},dv={class:"notification-settings"},fv={class:"checkbox-label"},pv=["value"],gv={class:"form-actions"},vv={class:"reminders-list"},mv={class:"reminder-info"},yv={class:"reminder-details"},_v={key:0},wv={key:1,style:{color:"orange"}},bv={key:2,style:{color:"green"}},Sv={class:"item-actions"},Ev=["onClick"],kv=["onClick"],Tv={__name:"Home",setup(e){xn();const t=re(null),{selectedTheme:s}=Wi(),n=re(new Date),r=re(!1),i=re(!1),o=re(null),a=()=>{o.value=null,W()},l=Ee(()=>n.value.getMonth()),c=Ee(()=>n.value.getFullYear()),u=["January","February","March","April","May","June","July","August","September","October","November","December"],h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],d=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],f=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],v=Ee(()=>new Date(c.value,l.value+1,0).getDate()),_=Ee(()=>{const S=new Date(c.value,l.value,1).getDay();return S===0?6:S-1}),A=Ee(()=>{const S=l.value===0?11:l.value-1,T=l.value===0?c.value-1:c.value;return new Date(T,S+1,0).getDate()}),k=Ee(()=>{const S=[],T=v.value,E=_.value,G=A.value;for(let p=E-1;p>=0;p--)S.push({day:G-p,isCurrentMonth:!1,isPrevMonth:!0});for(let p=1;p<=T;p++)S.push({day:p,isCurrentMonth:!0,isPrevMonth:!1});return S}),b=S=>{n.value=new Date(c.value,S,1),r.value=!1},w=S=>{n.value=new Date(S,l.value,1),i.value=!1},C=Ee(()=>{const S=[],T=new Date().getFullYear();for(let E=T-5;E<=T+10;E++)S.push(E);return S}),H=S=>{if(!S.isCurrentMonth)return!1;const T=new Date;return S.day===T.getDate()&&l.value===T.getMonth()&&c.value===T.getFullYear()},q=()=>{n.value=new Date(c.value,l.value-1,1)},z=()=>{n.value=new Date(c.value,l.value+1,1)},ve=()=>{r.value=!r.value,r.value&&(i.value=!1)},Y=()=>{i.value=!i.value,i.value&&(r.value=!1)},ae=S=>{!S.target.closest(".month-picker")&&!S.target.closest(".year-picker")&&!S.target.closest(".picker-btn")&&(r.value=!1,i.value=!1)},he=S=>{o.value={day:S.day,month:S.isCurrentMonth?l.value:S.isPrevMonth?l.value===0?11:l.value-1:l.value===11?0:l.value+1,year:S.isCurrentMonth?c.value:S.isPrevMonth?l.value===0?c.value-1:c.value:l.value===11?c.value+1:c.value}},U=re([]),$=re(null),K=["#4285f4","#ea4335","#fbbc04","#34a853","#ff6d00","#9c27b0","#00bcd4","#e91e63"],N=re({title:"",time:"",frequency:"once",repeatCount:1,dayOfWeek:null,color:"#4285f4",notification_enabled:!0,notification_minutes_before:120}),de=[{value:5,label:"5 minutes before"},{value:15,label:"15 minutes before"},{value:30,label:"30 minutes before"},{value:60,label:"1 hour before"},{value:120,label:"2 hours before"},{value:1440,label:"1 day before"},{value:2880,label:"2 days before"}],V=S=>{$.value=S.id,N.value={...S}},W=()=>{$.value=null,N.value={title:"",time:"",frequency:"once",repeatCount:1,dayOfWeek:null,color:"#4285f4"}},Fe=async()=>{const{data:S,error:T}=await oe.from("reminders").select("*").eq("user_id",t.value.id);S&&(U.value=S.map(E=>({...E,date:JSON.parse(E.date)})))},gt=async()=>{if(!N.value.title||!N.value.time){alert("Please fill in title and time!");return}const T=new Date(o.value.year,o.value.month,o.value.day).getDay(),E={user_id:t.value.id,title:N.value.title,time:N.value.time,frequency:N.value.frequency,repeat_count:N.value.repeatCount,day_of_week:N.value.frequency==="weekly"?T:null,color:N.value.color,date:JSON.stringify(o.value),notification_enabled:N.value.notification_enabled,notification_minutes_before:N.value.notification_minutes_before};$.value?await oe.from("reminders").update(E).eq("id",$.value):await oe.from("reminders").insert([E]),await Fe(),W()},nt=async S=>{await oe.from("reminders").delete().eq("id",S),await Fe(),$.value===S&&W()},Ne=S=>{const T=[],E=new Date(S.date.year,S.date.month,S.date.day);for(let G=0;G<(S.repeat_count||S.repeatCount);G++){const p=new Date(E);if(S.frequency==="daily")p.setDate(E.getDate()+G);else if(S.frequency==="weekly")p.setDate(E.getDate()+G*7);else if(S.frequency==="monthly")p.setMonth(E.getMonth()+G);else{T.push(S.date);break}T.push({day:p.getDate(),month:p.getMonth(),year:p.getFullYear()})}return T},Tt=S=>{const T=S.day,E=S.isCurrentMonth?l.value:S.isPrevMonth?l.value===0?11:l.value-1:l.value===11?0:l.value+1,G=S.isCurrentMonth?c.value:S.isPrevMonth?l.value===0?c.value-1:c.value:l.value===11?c.value+1:c.value;return U.value.some(p=>Ne(p).some(g=>g.day===T&&g.month===E&&g.year===G))},qt=S=>{const T=S.day,E=S.isCurrentMonth?l.value:S.isPrevMonth?l.value===0?11:l.value-1:l.value===11?0:l.value+1,G=S.isCurrentMonth?c.value:S.isPrevMonth?l.value===0?c.value-1:c.value:l.value===11?c.value+1:c.value,p=U.value.filter(g=>Ne(g).some(m=>m.day===T&&m.month===E&&m.year===G));return p.sort((g,m)=>{const R=g.time||"23:59",P=m.time||"23:59";return R.localeCompare(P)}),p.map(g=>g.color)},At=S=>U.value.filter(T=>Ne(T).some(E=>E.day===S.day&&E.month===S.month&&E.year===S.year));Mt(async()=>{const{data:{user:S}}=await oe.auth.getUser();t.value=S,S&&await Fe(),document.addEventListener("click",ae)}),Li(()=>{document.removeEventListener("click",ae)});const We=Ee(()=>s.value==="dark"?!0:s.value==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches:!1),O=async()=>{const S=new Date,T=new Date(S.getTime()+3*6e4),{data:{user:E}}=await oe.auth.getUser(),G={user_id:E.id,title:" AUTO TEST: Cron Job Email",time:T.toTimeString().slice(0,5),frequency:"once",repeat_count:1,day_of_week:null,color:"#ea4335",date:JSON.stringify({day:T.getDate(),month:T.getMonth(),year:T.getFullYear()}),notification_enabled:!0,notification_minutes_before:1,notification_sent:!1},{error:p}=await oe.from("reminders").insert([G]);p?alert("Error: "+p.message):(alert(` Test reminder created! Email should arrive in ~2 minutes.
Reminder time: ${T.toLocaleTimeString()}`),await Fe())};return(S,T)=>(M(),F(ge,null,[y("button",{onClick:O,class:"test-email-btn",style:{bottom:"80px",background:"#34a853"}},"  Quick Cron Test "),y("div",Gg,[y("h1",{class:Ae({"dark-title":We.value})},"Calendar",2),y("div",Jg,[y("div",zg,[y("button",{onClick:q,class:"nav-btn"},""),y("div",Yg,[y("button",{onClick:ve,class:"picker-btn"},[on(ie(u[l.value])+" ",1),T[7]||(T[7]=y("span",{class:"arrow"},"",-1))]),y("button",{onClick:Y,class:"picker-btn"},[on(ie(c.value)+" ",1),T[8]||(T[8]=y("span",{class:"arrow"},"",-1))])]),y("button",{onClick:z,class:"nav-btn"},"")]),r.value?(M(),F("div",Qg,[y("div",Xg,[(M(),F(ge,null,Le(h,(E,G)=>y("button",{key:G,onClick:p=>b(G),class:Ae(["picker-item",{active:G===l.value}])},ie(E),11,Zg)),64))])])):ce("",!0),i.value?(M(),F("div",ev,[y("div",tv,[(M(!0),F(ge,null,Le(C.value,E=>(M(),F("button",{key:E,onClick:G=>w(E),class:Ae(["picker-item",{active:E===c.value}])},ie(E),11,sv))),128))])])):ce("",!0),y("div",nv,[(M(),F(ge,null,Le(d,E=>y("div",{key:E,class:"day-name"},ie(E),1)),64)),(M(!0),F(ge,null,Le(k.value,(E,G)=>(M(),F("div",{key:G,class:Ae(["calendar-day",{"prev-month":E.isPrevMonth,today:H(E),"has-reminder":Tt(E),sunday:G%7===6}]),onClick:p=>he(E)},[y("span",null,ie(E.day),1),Tt(E)?(M(),F("div",iv,[(M(!0),F(ge,null,Le(qt(E),(p,g)=>(M(),F("div",{key:g,class:"reminder-dot",style:St({backgroundColor:p})},null,4))),128))])):ce("",!0)],10,rv))),128))])]),o.value?(M(),F("div",{key:0,class:"modal-overlay",onClick:a},[y("div",{class:"event-popup",onClick:T[6]||(T[6]=ai(()=>{},["stop"]))},[y("button",{class:"close-popup",onClick:a},""),y("h3",null,[on(ie(o.value.day)+"."+ie(o.value.month+1)+"."+ie(o.value.year)+" ",1),y("small",null,"("+ie(f[new Date(o.value.year,o.value.month,o.value.day).getDay()])+")",1)]),y("div",ov,[y("div",av,[Ie(y("input",{"onUpdate:modelValue":T[0]||(T[0]=E=>N.value.title=E),type:"text",placeholder:"Reminder title...",class:"reminder-input"},null,512),[[Ye,N.value.title]]),Ie(y("input",{"onUpdate:modelValue":T[1]||(T[1]=E=>N.value.time=E),type:"time",class:"reminder-input"},null,512),[[Ye,N.value.time]]),y("div",lv,[y("div",cv,[(M(),F(ge,null,Le(K,E=>y("div",{key:E,class:Ae(["color-option",{active:N.value.color===E}]),style:St({backgroundColor:E}),onClick:G=>N.value.color=E},null,14,uv)),64))])]),Ie(y("select",{"onUpdate:modelValue":T[2]||(T[2]=E=>N.value.frequency=E),class:"reminder-select"},[...T[9]||(T[9]=[y("option",{value:"once"},"Once",-1),y("option",{value:"daily"},"Daily",-1),y("option",{value:"weekly"},"Weekly",-1),y("option",{value:"monthly"},"Monthly",-1)])],512),[[oi,N.value.frequency]]),N.value.frequency!=="once"?(M(),F("div",hv,[T[10]||(T[10]=y("label",null,"Repeat:",-1)),Ie(y("input",{"onUpdate:modelValue":T[3]||(T[3]=E=>N.value.repeatCount=E),type:"number",min:"1",max:"365",class:"reminder-input small"},null,512),[[Ye,N.value.repeatCount,void 0,{number:!0}]]),T[11]||(T[11]=y("span",null,"times",-1))])):ce("",!0),y("div",dv,[y("label",fv,[Ie(y("input",{type:"checkbox","onUpdate:modelValue":T[4]||(T[4]=E=>N.value.notification_enabled=E)},null,512),[[Ll,N.value.notification_enabled]]),T[12]||(T[12]=y("span",null,"Email notification",-1))]),N.value.notification_enabled?Ie((M(),F("select",{key:0,"onUpdate:modelValue":T[5]||(T[5]=E=>N.value.notification_minutes_before=E),class:"reminder-select"},[(M(),F(ge,null,Le(de,E=>y("option",{key:E.value,value:E.value},ie(E.label),9,pv)),64))],512)),[[oi,N.value.notification_minutes_before,void 0,{number:!0}]]):ce("",!0)]),y("div",gv,[y("button",{onClick:gt,class:"add-reminder-btn"},ie($.value?"Save Changes":"+ Add Reminder"),1),$.value?(M(),F("button",{key:0,onClick:W,class:"cancel-btn"},"Cancel")):ce("",!0)])]),y("div",vv,[(M(!0),F(ge,null,Le(At(o.value),E=>(M(),F("div",{key:E.id,class:Ae(["reminder-item",{editing:$.value===E.id}]),style:St({borderLeft:`4px solid ${E.color}`})},[y("div",mv,[y("strong",null,ie(E.title),1),y("div",yv,[y("span",null," "+ie(E.time),1),E.frequency!=="once"?(M(),F("span",_v," "+ie(E.frequency),1)):ce("",!0),E.notification_enabled&&!E.notification_sent?(M(),F("span",wv,"  Notification Pending ")):ce("",!0),E.notification_sent?(M(),F("span",bv,"  Notification Sent ")):ce("",!0)])]),y("div",Sv,[y("button",{onClick:G=>V(E),class:"icon-btn edit"},"edit",8,Ev),y("button",{onClick:G=>nt(E.id),class:"icon-btn"},"",8,kv)])],6))),128))])])])])):ce("",!0)])],64))}},Av=Vs(Tv,[["__scopeId","data-v-23b579f4"]]),Cv={class:"settings-container"},Rv={class:"settings-section"},Ov={class:"theme-selector"},xv={class:"theme-options"},Pv=["onClick"],Iv={class:"theme-icon"},$v={class:"theme-label"},Nv={class:"setting-item"},jv={class:"setting-label"},Dv={__name:"Settings",setup(e){xn();const t=[{value:"system",label:"System",icon:""},{value:"light",label:"Light",icon:""},{value:"dark",label:"Dark",icon:""}],s=re("system"),n=()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",r=c=>{let u=c;c==="system"&&(u=n()),u==="dark"?document.documentElement.classList.add("dark-mode"):document.documentElement.classList.remove("dark-mode")};ms(s,c=>{localStorage.setItem("theme",c),r(c)}),Mt(()=>{const c=localStorage.getItem("theme")||"system";s.value=c,r(c);const u=window.matchMedia("(prefers-color-scheme: dark)"),h=()=>{s.value==="system"&&r("system")};return u.addEventListener("change",h),()=>{u.removeEventListener("change",h)}});const i=Ee(()=>s.value==="dark"?!0:s.value==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches:!1),o=re(!0),a=async()=>{const{data:{user:c}}=await oe.auth.getUser();let{data:u}=await oe.from("user_settings").select("*").eq("user_id",c.id).single();if(!u){const{data:h}=await oe.from("user_settings").insert([{user_id:c.id,email_notifications_enabled:!0}]).select().single();u=h}o.value=u.email_notifications_enabled};return ms(o,async()=>{const{data:{user:c}}=await oe.auth.getUser();await oe.from("user_settings").update({email_notifications_enabled:o.value}).eq("user_id",c.id)}),Mt(a),(c,u)=>(M(),F("div",Cv,[y("h1",{class:Ae([{"dark-title":i.value},"settings-title"])},"Settings",2),y("div",Rv,[u[4]||(u[4]=y("h2",null,"Appearance",-1)),y("div",Ov,[u[1]||(u[1]=y("label",{class:"section-label"},"Theme",-1)),y("div",xv,[(M(),F(ge,null,Le(t,h=>y("button",{key:h.value,onClick:d=>s.value=h.value,class:Ae(["theme-option",{active:s.value===h.value}])},[y("span",Iv,ie(h.icon),1),y("span",$v,ie(h.label),1)],10,Pv)),64))])]),y("div",Nv,[y("label",jv,[Ie(y("input",{type:"checkbox","onUpdate:modelValue":u[0]||(u[0]=h=>o.value=h)},null,512),[[Ll,o.value]]),u[2]||(u[2]=y("span",null,"Enable email notifications for reminders",-1))]),u[3]||(u[3]=y("p",{class:"setting-description"}," Receive email notifications before your scheduled reminders ",-1))])])]))}},Lv=Vs(Dv,[["__scopeId","data-v-e83ec688"]]),Uv={class:"user-page"},Mv={class:"user-profile"},Bv={class:"profile-field"},Fv=["value"],qv={__name:"UserView",setup(e){const t=re(null),s=re(""),n=re(""),r=re(""),i=re(""),{selectedTheme:o}=Wi();Mt(async()=>{const{data:{user:l}}=await oe.auth.getUser();t.value=l,l&&(s.value=l.user_metadata?.full_name||l.user_metadata?.username||l.email?.split("@")[0]||"User",n.value=l.email||"")});const a=Ee(()=>o.value==="dark"?!0:o.value==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches:!1);return(l,c)=>(M(),F("div",Uv,[y("div",Mv,[y("h1",{class:Ae({"dark-title":a.value})},"Profile",2),t.value?(M(),F(ge,{key:0},[y("p",{class:Ae([{"dark-title":a.value},"profile-name"])},ie(s.value),3),y("div",Bv,[y("label",{class:Ae({"dark-title":a.value}),for:"profile-email"},"Email",2),y("input",{id:"profile-email",value:n.value,type:"email",readonly:"",class:"profile-input profile-input--readonly"},null,8,Fv)]),r.value?(M(),F("div",{key:0,class:Ae(["profile-message",i.value==="success"?"profile-message--success":"profile-message--error"])},ie(r.value),3)):ce("",!0)],64)):ce("",!0)])]))}},Vv=Vs(qv,[["__scopeId","data-v-2e00c366"]]),Hv={class:"login-container"},Kv={class:"login-box"},Wv={class:"subtitle"},Gv={key:0,class:"error-message"},Jv={key:1,class:"success-message"},zv=["disabled"],Yv=["disabled"],Qv=["minlength","disabled"],Xv={key:1,class:"password-hint"},Zv=["disabled"],em={key:3,class:"resend-box"},tm=["disabled"],sm=["disabled"],nm=["disabled"],rm={key:5,class:"divider"},im=["disabled"],om={key:7,class:"toggle-text"},am=["disabled"],Vn="Password must contain at least 8 characters, at least one lowercase letter, at least one number, and at least one special character.",lm={__name:"LoginView",setup(e){const t=xn(),s=re(!0),n=re(""),r=re(""),i=re(""),o=re(""),a=re(""),l=re(!1),c=re(!1),u=re(!1),h=re(""),d=()=>{s.value=!s.value,o.value="",a.value="",c.value=!1,s.value||(i.value="")};function f(b){return!b||b.length<8?{valid:!1,message:Vn}:/[a-z]/.test(b)?/[0-9]/.test(b)?/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(b)?{valid:!0}:{valid:!1,message:Vn}:{valid:!1,message:Vn}:{valid:!1,message:Vn}}const v=async()=>{o.value="",a.value="",c.value=!1,l.value=!0;try{if(s.value){const{error:q}=await oe.auth.signInWithPassword({email:n.value.trim().toLowerCase(),password:r.value});if(q){if(q.message.toLowerCase().includes("email not confirmed")){c.value=!0,o.value="Please confirm your email first.";return}throw q}const{data:{user:z}}=await oe.auth.getUser();z?.id&&await oe.from("user_settings").upsert({user_id:z.id,email:n.value.trim().toLowerCase(),email_notifications_enabled:!0},{onConflict:"user_id"}),t.push("/");return}const b=i.value?.trim();if(!b){o.value="Please enter your name or username.";return}const w=f(r.value);if(!w.valid){o.value=w.message;return}const{data:C,error:H}=await oe.auth.signUp({email:n.value.trim().toLowerCase(),password:r.value,options:{emailRedirectTo:window.location.origin+"/",data:{full_name:b,username:b}}});if(H)throw H;if(C.user?.id){const{error:q}=await oe.from("users").upsert({id:C.user.id,email:n.value.trim().toLowerCase(),full_name:b,username:b},{onConflict:"id"}),{error:z}=await oe.from("user_settings").upsert({user_id:C.user.id,email:n.value.trim().toLowerCase(),email_notifications_enabled:!0},{onConflict:"user_id"});z&&console.error("Error saving user settings:",z)}if(!C.session){const{error:q}=await oe.auth.signInWithPassword({email:n.value.trim().toLowerCase(),password:r.value});if(!q){o.value="This email is already registered. Please sign in.";return}if(q.message.toLowerCase().includes("email not confirmed")){a.value="Account created. Check your email and confirm registration.",c.value=!0;return}a.value="If the email was not used before, a confirmation link was sent.";return}t.push("/")}catch(b){const w=b?.message||"Something went wrong.";o.value=w}finally{l.value=!1}},_=async()=>{o.value="",a.value="",l.value=!0;try{const{error:b}=await oe.auth.resend({type:"signup",email:n.value});if(b)throw b;a.value="Confirmation email sent."}catch(b){o.value=b.message}finally{l.value=!1}},A=async()=>{const b=f(h.value);if(!b.valid){o.value=b.message;return}l.value=!0,o.value="";try{const{error:w}=await oe.auth.updateUser({password:h.value});if(w)throw w;u.value=!1,a.value="Password set successfully."}catch(w){o.value=w.message}finally{l.value=!1}},k=async()=>{o.value="",l.value=!0;const{error:b}=await oe.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/login"}});b&&(o.value=b.message,l.value=!1)};return(b,w)=>(M(),F("div",Hv,[y("div",Kv,[y("h1",null,ie(s.value?"Welcome Back":"Create Account"),1),y("p",Wv,ie(s.value?"Sign in to continue":"Get started with your calendar"),1),o.value?(M(),F("div",Gv,ie(o.value),1)):ce("",!0),a.value?(M(),F("div",Jv,ie(a.value),1)):ce("",!0),u.value?ce("",!0):(M(),F("form",{key:2,onSubmit:ai(v,["prevent"]),class:"auth-form"},[s.value?ce("",!0):Ie((M(),F("input",{key:0,"onUpdate:modelValue":w[0]||(w[0]=C=>i.value=C),type:"text",placeholder:"Name / username",class:"auth-input",required:"",disabled:l.value,maxlength:"100",autocomplete:"username"},null,8,zv)),[[Ye,i.value]]),Ie(y("input",{"onUpdate:modelValue":w[1]||(w[1]=C=>n.value=C),type:"email",placeholder:"Email",class:"auth-input",required:"",disabled:l.value},null,8,Yv),[[Ye,n.value]]),Ie(y("input",{"onUpdate:modelValue":w[2]||(w[2]=C=>r.value=C),type:"password",placeholder:"Password",class:"auth-input",minlength:s.value?1:8,required:"",disabled:l.value},null,8,Qv),[[Ye,r.value]]),s.value?ce("",!0):(M(),F("p",Xv,"Min. 8 characters, lowercase letter, number, special character (!@#$%&*)")),y("button",{type:"submit",class:"auth-btn primary",disabled:l.value},ie(l.value?"Loading...":s.value?"Sign In":"Sign Up"),9,Zv)],32)),c.value?(M(),F("div",em,[y("button",{type:"button",class:"auth-btn secondary",disabled:l.value,onClick:_}," Resend confirmation email ",8,tm)])):ce("",!0),u.value?(M(),F("form",{key:4,onSubmit:ai(A,["prevent"]),class:"auth-form"},[Ie(y("input",{"onUpdate:modelValue":w[3]||(w[3]=C=>h.value=C),type:"password",placeholder:"Set a new password",class:"auth-input",required:"",minlength:"8",disabled:l.value},null,8,sm),[[Ye,h.value]]),w[4]||(w[4]=y("p",{class:"password-hint"},"Min. 8 characters, lowercase letter, number, special character (!@#$%&*)",-1)),y("button",{type:"submit",class:"auth-btn primary",disabled:l.value},ie(l.value?"Loading...":"Set Password"),9,nm)],32)):ce("",!0),u.value?ce("",!0):(M(),F("div",rm,[...w[5]||(w[5]=[y("span",null,"OR",-1)])])),u.value?ce("",!0):(M(),F("button",{key:6,onClick:k,class:"auth-btn google",disabled:l.value},[...w[6]||(w[6]=[Jn('<svg width="18" height="18" viewBox="0 0 18 18" data-v-965545eb><path fill="#4285F4" d="M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z" data-v-965545eb></path><path fill="#34A853" d="M9 18c2.43 0 4.467-.806 5.956-2.184l-2.908-2.258c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H.957v2.332C2.438 15.983 5.482 18 9 18z" data-v-965545eb></path><path fill="#FBBC05" d="M3.964 10.707c-.18-.54-.282-1.117-.282-1.707 0-.593.102-1.17.282-1.709V4.958H.957C.347 6.173 0 7.548 0 9c0 1.452.348 2.827.957 4.042l3.007-2.335z" data-v-965545eb></path><path fill="#EA4335" d="M9 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.463.891 11.426 0 9 0 5.482 0 2.438 2.017.957 4.958L3.964 7.29C4.672 5.163 6.656 3.58 9 3.58z" data-v-965545eb></path></svg> Continue with Google ',2)])],8,im)),u.value?ce("",!0):(M(),F("p",om,[on(ie(s.value?"Don't have an account?":"Already have an account?")+" ",1),y("button",{onClick:d,class:"toggle-btn",disabled:l.value},ie(s.value?"Sign Up":"Sign In"),9,am)]))])]))}},cm=Vs(lm,[["__scopeId","data-v-965545eb"]]),um={class:"user-page"},hm={class:"todos-content"},dm={class:"todos-header"},fm={key:0,class:"trash-badge"},pm={key:0,class:"trash-view"},gm={class:"trash-header"},vm={class:"trash-grid"},mm={class:"trash-note-body"},ym={class:"trash-note-title"},_m={key:0,class:"trash-note-content"},wm={key:1,class:"trash-note-theme"},bm={class:"trash-note-actions"},Sm=["onClick"],Em=["onClick"],km={key:0,class:"empty-msg"},Tm={key:0,class:"add-sticky"},Am={class:"add-sticky-inner"},Cm={id:"theme-list"},Rm=["value"],Om={class:"add-sticky-actions"},xm={class:"color-options"},Pm=["onClick"],Im={key:1,class:"filters"},$m=["value"],Nm={class:"sticky-grid"},jm={class:"sticky-note-header"},Dm={class:"sticky-checkbox",title:"Check to delete"},Lm=["onChange"],Um=["onClick"],Mm={key:0,class:"sticky-edit"},Bm=["onUpdate:modelValue"],Fm=["onUpdate:modelValue"],qm=["onUpdate:modelValue"],Vm={class:"edit-color-section"},Hm={class:"color-options"},Km=["onClick"],Wm={class:"edit-actions"},Gm=["onClick"],Jm=["onClick"],zm={key:1,class:"sticky-body"},Ym={class:"sticky-note-title"},Qm={key:0,class:"sticky-note-content"},Xm={key:3,class:"empty-msg"},Zm={__name:"Todos",setup(e){const t=xn(),s=re(null),{selectedTheme:n}=Wi(),r=["#FFD500","#FFA4BC","#A7DC6B","#9CDFFC","#D57AE7","#2F87BA","#F86198","#FFFDBF"],i=re([]),o=re(""),a=re(""),l=re(""),c=re("#fff9c4"),u=re(null),h=re(""),d=re(""),f=re(!1),v=re(!1),_=re([]),A=async()=>{if(!s.value)return;const{data:$}=await oe.from("todos").select("*").eq("user_id",s.value.id).order("created_at",{ascending:!0});i.value=$||[]},k=Ee(()=>{const $=new Set;return i.value.forEach(K=>{K.theme?.trim()&&$.add(K.theme.trim())}),[...$].sort()}),b=Ee(()=>{let $=i.value;if(h.value.trim()){const V=h.value.toLowerCase().trim();$=$.filter(W=>(W.title||"").toLowerCase().includes(V)||(W.content||"").toLowerCase().includes(V))}d.value&&($=$.filter(V=>(V.theme||"").trim()===d.value));const K={};$.forEach(V=>{const W=(V.theme||"").trim()||"(No theme)";K[W]||(K[W]=[]),K[W].push(V)});const N={};return Object.keys(K).sort((V,W)=>V==="(No theme)"?1:W==="(No theme)"?-1:V.localeCompare(W)).forEach(V=>{N[V]=K[V]}),N}),w=async()=>{const $=o.value?.trim();!$||!s.value||(await oe.from("todos").insert([{user_id:s.value.id,title:$,content:(a.value||"").trim(),theme:(l.value||"").trim(),color:c.value||"#fff9c4"}]),Y(),await A())},C=async $=>{$.title?.trim()&&(await oe.from("todos").update({title:$.title.trim(),content:($.content||"").trim(),theme:($.theme||"").trim(),color:$.color||"#fff9c4"}).eq("id",$.id),u.value=null,await A())},H=async()=>{if(!s.value)return;const $=new Date(Date.now()-2880*60*1e3).toISOString();await oe.from("todos_trash").delete().eq("user_id",s.value.id).lt("deleted_at",$);const{data:K}=await oe.from("todos_trash").select("*").eq("user_id",s.value.id).order("deleted_at",{ascending:!1});_.value=K||[]},q=async $=>{await oe.from("todos_trash").insert([{user_id:s.value.id,title:$.title,content:$.content||"",theme:$.theme||"",color:$.color||"#fff9c4",completed:$.completed||!1,original_id:$.id}]),await oe.from("todos").delete().eq("id",$.id),u.value=null,await A(),await H()},z=async $=>{await oe.from("todos").insert([{user_id:s.value.id,title:$.title,content:$.content||"",theme:$.theme||"",color:$.color||"#fff9c4",completed:$.completed||!1}]),await oe.from("todos_trash").delete().eq("id",$.id),await H(),await A()},ve=async $=>{await oe.from("todos_trash").delete().eq("id",$),await H()},Y=()=>{o.value="",a.value="",l.value="",c.value="#fff9c4",u.value=null,f.value=!1},ae=$=>{u.value=$.id},he=()=>{u.value=null,A()},U=Ee(()=>n.value==="dark"?!0:n.value==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches:!1);return Mt(async()=>{const{data:{user:$}}=await oe.auth.getUser();if(s.value=$,!$){t.push("/login");return}await A(),await H()}),($,K)=>(M(),F("div",um,[y("div",hm,[y("div",dm,[y("h1",{class:Ae({"dark-title":U.value})},"Todos",2),v.value?ce("",!0):(M(),F("button",{key:0,type:"button",class:"toggle-add-btn",onClick:K[0]||(K[0]=N=>f.value=!f.value)},ie(f.value?" Close":"+ New note"),1))]),y("button",{type:"button",class:Ae(["trash-fab",{active:v.value}]),onClick:K[1]||(K[1]=N=>{v.value=!v.value,v.value&&H()}),title:"Trash"},[K[8]||(K[8]=Jn('<svg class="trash-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-171399e7><polyline points="3 6 5 6 21 6" data-v-171399e7></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" data-v-171399e7></path><line x1="10" y1="11" x2="10" y2="17" data-v-171399e7></line><line x1="14" y1="11" x2="14" y2="17" data-v-171399e7></line></svg>',1)),_.value.length>0?(M(),F("span",fm,ie(_.value.length),1)):ce("",!0)],2),v.value?(M(),F("div",pm,[y("div",gm,[K[9]||(K[9]=y("p",{class:"trash-intro"},"Deleted notes. Restore or permanently delete. The notes will be permanently deleted after 2 days of removal.",-1)),y("button",{type:"button",class:"back-btn",onClick:K[2]||(K[2]=N=>v.value=!1)}," Back")]),y("div",vm,[(M(!0),F(ge,null,Le(_.value,N=>(M(),F("div",{key:N.id,class:"trash-note",style:St({backgroundColor:N.color||"#fff9c4"})},[y("div",mm,[y("div",ym,ie(N.title),1),N.content?(M(),F("div",_m,ie(N.content),1)):ce("",!0),N.theme?(M(),F("div",wm,ie(N.theme),1)):ce("",!0)]),y("div",bm,[y("button",{type:"button",class:"recover-btn",onClick:de=>z(N)},"Restore",8,Sm),y("button",{type:"button",class:"permanent-delete-btn",onClick:de=>ve(N.id),title:"Permanently delete"},[...K[10]||(K[10]=[Jn('<svg class="icon-svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-171399e7><polyline points="3 6 5 6 21 6" data-v-171399e7></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" data-v-171399e7></path><line x1="10" y1="11" x2="10" y2="17" data-v-171399e7></line><line x1="14" y1="11" x2="14" y2="17" data-v-171399e7></line></svg>',1)])],8,Em)])],4))),128))]),_.value.length===0?(M(),F("p",km,"Trash is empty.")):ce("",!0)])):ce("",!0),Oe(vh,{name:"slide-fade"},{default:en(()=>[!v.value&&f.value?(M(),F("div",Tm,[y("div",Am,[Ie(y("input",{"onUpdate:modelValue":K[3]||(K[3]=N=>o.value=N),type:"text",placeholder:"Title...",class:"sticky-input sticky-title-input",onKeyup:Bh(w,["enter"])},null,544),[[Ye,o.value]]),Ie(y("textarea",{"onUpdate:modelValue":K[4]||(K[4]=N=>a.value=N),placeholder:"Content...",class:"sticky-input sticky-content-input",rows:"2"},null,512),[[Ye,a.value]]),Ie(y("input",{"onUpdate:modelValue":K[5]||(K[5]=N=>l.value=N),type:"text",placeholder:"Theme (e.g. ePravo, intro to programming)",class:"sticky-input sticky-theme-input",list:"theme-list"},null,512),[[Ye,l.value]]),y("datalist",Cm,[(M(!0),F(ge,null,Le(k.value,N=>(M(),F("option",{key:N,value:N},null,8,Rm))),128))]),y("div",Om,[y("div",xm,[(M(),F(ge,null,Le(r,N=>y("div",{key:N,class:Ae(["color-chip",{active:c.value===N}]),style:St({backgroundColor:N}),onClick:de=>c.value=N},null,14,Pm)),64))]),y("button",{type:"button",class:"add-btn",onClick:w},"Add")])])])):ce("",!0)]),_:1}),!v.value&&i.value.length>0?(M(),F("div",Im,[Ie(y("select",{"onUpdate:modelValue":K[6]||(K[6]=N=>d.value=N),class:"filter-select"},[K[11]||(K[11]=y("option",{value:""},"All themes",-1)),(M(!0),F(ge,null,Le(k.value,N=>(M(),F("option",{key:N,value:N},ie(N),9,$m))),128))],512),[[oi,d.value]]),Ie(y("input",{"onUpdate:modelValue":K[7]||(K[7]=N=>h.value=N),type:"text",placeholder:"Search todos...",class:"filter-select"},null,512),[[Ye,h.value]])])):ce("",!0),v.value?ce("",!0):(M(!0),F(ge,{key:2},Le(b.value,(N,de)=>(M(),F("div",{key:de,class:"theme-group"},[y("h2",{class:Ae([{"dark-title-notes":U.value},"theme-title"])},ie(de),3),y("div",Nm,[(M(!0),F(ge,null,Le(N,V=>(M(),F("div",{key:V.id,class:"sticky-note",style:St({backgroundColor:V.color||"#fff9c4",transform:`rotate(${V.id.charCodeAt(0)%5-2}deg)`})},[y("div",jm,[y("label",Dm,[y("input",{type:"checkbox",onChange:W=>q(V)},null,40,Lm)]),y("button",{type:"button",class:"edit-btn",title:"Edit",onClick:W=>ae(V)},[...K[12]||(K[12]=[y("svg",{class:"icon-svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[y("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),y("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})],-1)])],8,Um)]),u.value===V.id?(M(),F("div",Mm,[Ie(y("input",{"onUpdate:modelValue":W=>V.title=W,class:"sticky-input",placeholder:"Title"},null,8,Bm),[[Ye,V.title]]),Ie(y("textarea",{"onUpdate:modelValue":W=>V.content=W,class:"sticky-input",placeholder:"Content",rows:"3"},null,8,Fm),[[Ye,V.content]]),Ie(y("input",{"onUpdate:modelValue":W=>V.theme=W,class:"sticky-input",placeholder:"Theme",list:"theme-list"},null,8,qm),[[Ye,V.theme]]),y("div",Vm,[K[13]||(K[13]=y("label",{class:"edit-label"},"Color:",-1)),y("div",Hm,[(M(),F(ge,null,Le(r,W=>y("div",{key:W,class:Ae(["color-chip",{active:V.color===W}]),style:St({backgroundColor:W}),onClick:Fe=>V.color=W},null,14,Km)),64))])]),y("div",Wm,[y("button",{type:"button",class:"save-btn",onClick:W=>C(V)},"Save",8,Gm),y("button",{type:"button",class:"cancel-btn",onClick:he},"Cancel"),y("button",{type:"button",class:"delete-btn-edit",onClick:W=>q(V)},[...K[14]||(K[14]=[Jn('<svg class="icon-svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-171399e7><polyline points="3 6 5 6 21 6" data-v-171399e7></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" data-v-171399e7></path><line x1="10" y1="11" x2="10" y2="17" data-v-171399e7></line><line x1="14" y1="11" x2="14" y2="17" data-v-171399e7></line></svg> Delete',2)])],8,Jm)])])):(M(),F("div",zm,[y("div",Ym,ie(V.title),1),V.content?(M(),F("div",Qm,ie(V.content),1)):ce("",!0)]))],4))),128))])]))),128)),!v.value&&Object.keys(b.value).length===0?(M(),F("p",Xm,ie(i.value.length===0?"You don't have any notes yet. Add your first one!":"No results. Change filters."),1)):ce("",!0)])]))}},ey=Vs(Zm,[["__scopeId","data-v-171399e7"]]),gc=Qd({history:Od(),routes:[{path:"/login",name:"Login",component:cm,meta:{guestOnly:!0,noLayout:!0}},{path:"/",name:"Home",component:Av,meta:{requiresAuth:!0}},{path:"/settings",name:"Settings",component:Lv,meta:{requiresAuth:!0}},{path:"/profile",name:"User",component:Vv,meta:{requiresAuth:!0}},{path:"/todos",name:"Todods",component:ey,meta:{requiresAuth:!0}}]});gc.beforeEach(async(e,t,s)=>{const{data:{session:n}}=await oe.auth.getSession();e.meta.requiresAuth&&!n?s("/login"):e.path==="/login"&&n?s("/"):s()});pc();Vh(Wg).use(gc).mount("#app");
